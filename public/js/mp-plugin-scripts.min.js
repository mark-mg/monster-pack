function initSolarMap(){var e={center:new google.maps.LatLng(-33.8688,151.2195),zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP};if(jQuery("#map-canvas").length>0){var t=(new google.maps.Map(document.getElementById("map-canvas"),e),getCookie("InputFld")),s="#";s=t.indexOf("_step")>0?s+t.substring(0,t.indexOf("_step"))+"_step_":s+t.substring(0,t.indexOf("_address"))+"_";var i=document.getElementById(t),a=new google.maps.places.Autocomplete(i,{types:["geocode"],componentRestrictions:{country:"au"}});google.maps.event.addListener(a,"place_changed",function(e,i){jQuery("#"+t,"");var n=a.getPlace();return fillAddress(n,s),!1})}}function fillAddress(e,t){jQuery(t+"address-error").html("");var s=e.name;jQuery(t+"street_name").val(s).data("address",s);for(i in e.address_components){var a=e.address_components[i];switch(a.types[0]){case"locality":jQuery(t+"suburb").val(a.long_name);break;case"administrative_area_level_1":jQuery(t+"state").val(a.short_name);break;case"postal_code":jQuery(t+"postcode").each(function(){jQuery(this).val(a.short_name)});break;case"country":jQuery(t+"country").val(a.long_name)}}return!0}function setCookie(e,t,s){var i=new Date;i.setTime(i.getTime()+24*s*60*60*1e3);var a="expires="+i.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}function getCookie(e){for(var t=e+"=",s=document.cookie.split(";"),i=0;i<s.length;i++){for(var a=s[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}function loadGMAP(e){setCookie("InputFld",e,1),"function"==typeof initSolarMap&&jQuery("head").prepend('<script src="https://maps.googleapis.com/maps/api/js?key='+gmap_key+'&libraries=places&callback=initSolarMap"></script>')}(function(e,t,s){(function(){var i,a,n,r="2.2.3",o="datepicker",d=".datepicker-here",l=!1,h='<div class="datepicker"><i class="datepicker--pointer"></i><nav class="datepicker--nav"></nav><div class="datepicker--content"></div></div>',c={classes:"",inline:!1,language:"ru",startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"@",toggleSelected:!0,keyboardNav:!0,position:"bottom left",offset:12,view:"days",minView:"days",showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:",",range:!1,todayButton:!1,clearButton:!1,showEvent:"focus",autoClose:!1,monthsField:"monthsShort",prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:"",onShow:"",onHide:"",onChangeMonth:"",onChangeYear:"",onChangeDecade:"",onChangeView:"",onRenderCell:""},u={ctrlRight:[17,39],ctrlUp:[17,38],ctrlLeft:[17,37],ctrlDown:[17,40],shiftRight:[16,39],shiftUp:[16,38],shiftLeft:[16,37],shiftDown:[16,40],altUp:[18,38],altRight:[18,39],altLeft:[18,37],altDown:[18,40],ctrlShiftUp:[16,17,38]},m=function(e,a){this.el=e,this.$el=t(e),this.opts=t.extend(!0,{},c,a,this.$el.data()),i==s&&(i=t("body")),this.opts.startDate||(this.opts.startDate=new Date),"INPUT"==this.el.nodeName&&(this.elIsInput=!0),this.opts.altField&&(this.$altField="string"==typeof this.opts.altField?t(this.opts.altField):this.opts.altField),this.inited=!1,this.visible=!1,this.silent=!1,this.currentDate=this.opts.startDate,this.currentView=this.opts.view,this._createShortCuts(),this.selectedDates=[],this.views={},this.keys=[],this.minRange="",this.maxRange="",this._prevOnSelectValue="",this.init()};n=m,n.prototype={VERSION:r,viewIndexes:["days","months","years"],init:function(){l||this.opts.inline||!this.elIsInput||this._buildDatepickersContainer(),this._buildBaseHtml(),this._defineLocale(this.opts.language),this._syncWithMinMaxDates(),this.elIsInput&&(this.opts.inline||(this._setPositionClasses(this.opts.position),this._bindEvents()),this.opts.keyboardNav&&!this.opts.onlyTimepicker&&this._bindKeyboardEvents(),this.$datepicker.on("mousedown",this._onMouseDownDatepicker.bind(this)),this.$datepicker.on("mouseup",this._onMouseUpDatepicker.bind(this))),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.timepicker&&(this.timepicker=new t.fn.datepicker.Timepicker(this,this.opts),this._bindTimepickerEvents()),this.opts.onlyTimepicker&&this.$datepicker.addClass("-only-timepicker-"),this.views[this.currentView]=new t.fn.datepicker.Body(this,this.currentView,this.opts),this.views[this.currentView].show(),this.nav=new t.fn.datepicker.Navigation(this,this.opts),this.view=this.currentView,this.$el.on("clickCell.adp",this._onClickCell.bind(this)),this.$datepicker.on("mouseenter",".datepicker--cell",this._onMouseEnterCell.bind(this)),this.$datepicker.on("mouseleave",".datepicker--cell",this._onMouseLeaveCell.bind(this)),this.inited=!0},_createShortCuts:function(){this.minDate=this.opts.minDate?this.opts.minDate:new Date(-86399999136e5),this.maxDate=this.opts.maxDate?this.opts.maxDate:new Date(86399999136e5)},_bindEvents:function(){this.$el.on(this.opts.showEvent+".adp",this._onShowEvent.bind(this)),this.$el.on("mouseup.adp",this._onMouseUpEl.bind(this)),this.$el.on("blur.adp",this._onBlur.bind(this)),this.$el.on("keyup.adp",this._onKeyUpGeneral.bind(this)),t(e).on("resize.adp",this._onResize.bind(this)),t("body").on("mouseup.adp",this._onMouseUpBody.bind(this))},_bindKeyboardEvents:function(){this.$el.on("keydown.adp",this._onKeyDown.bind(this)),this.$el.on("keyup.adp",this._onKeyUp.bind(this)),this.$el.on("hotKey.adp",this._onHotKey.bind(this))},_bindTimepickerEvents:function(){this.$el.on("timeChange.adp",this._onTimeChange.bind(this))},isWeekend:function(e){return this.opts.weekends.indexOf(e)!==-1},_defineLocale:function(e){"string"==typeof e?(this.loc=t.fn.datepicker.language[e],this.loc||(console.warn("Can't find language \""+e+'" in Datepicker.language, will use "ru" instead'),this.loc=t.extend(!0,{},t.fn.datepicker.language.ru)),this.loc=t.extend(!0,{},t.fn.datepicker.language.ru,t.fn.datepicker.language[e])):this.loc=t.extend(!0,{},t.fn.datepicker.language.ru,e),this.opts.dateFormat&&(this.loc.dateFormat=this.opts.dateFormat),this.opts.timeFormat&&(this.loc.timeFormat=this.opts.timeFormat),""!==this.opts.firstDay&&(this.loc.firstDay=this.opts.firstDay),this.opts.timepicker&&(this.loc.dateFormat=[this.loc.dateFormat,this.loc.timeFormat].join(this.opts.dateTimeSeparator)),this.opts.onlyTimepicker&&(this.loc.dateFormat=this.loc.timeFormat);var s=this._getWordBoundaryRegExp;(this.loc.timeFormat.match(s("aa"))||this.loc.timeFormat.match(s("AA")))&&(this.ampm=!0)},_buildDatepickersContainer:function(){l=!0,i.append('<div class="datepickers-container" id="datepickers-container"></div>'),a=t("#datepickers-container")},_buildBaseHtml:function(){var e,s=t('<div class="datepicker-inline">');e="INPUT"==this.el.nodeName?this.opts.inline?s.insertAfter(this.$el):a:s.appendTo(this.$el),this.$datepicker=t(h).appendTo(e),this.$content=t(".datepicker--content",this.$datepicker),this.$nav=t(".datepicker--nav",this.$datepicker)},_triggerOnChange:function(){if(!this.selectedDates.length){if(""===this._prevOnSelectValue)return;return this._prevOnSelectValue="",this.opts.onSelect("","",this)}var e,t=this.selectedDates,s=n.getParsedDate(t[0]),i=this,a=new Date(s.year,s.month,s.date,s.hours,s.minutes);e=t.map(function(e){return i.formatDate(i.loc.dateFormat,e)}).join(this.opts.multipleDatesSeparator),(this.opts.multipleDates||this.opts.range)&&(a=t.map(function(e){var t=n.getParsedDate(e);return new Date(t.year,t.month,t.date,t.hours,t.minutes)})),this._prevOnSelectValue=e,this.opts.onSelect(e,a,this)},next:function(){var e=this.parsedDate,t=this.opts;switch(this.view){case"days":this.date=new Date(e.year,e.month+1,1),t.onChangeMonth&&t.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(e.year+1,e.month,1),t.onChangeYear&&t.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(e.year+10,0,1),t.onChangeDecade&&t.onChangeDecade(this.curDecade)}},prev:function(){var e=this.parsedDate,t=this.opts;switch(this.view){case"days":this.date=new Date(e.year,e.month-1,1),t.onChangeMonth&&t.onChangeMonth(this.parsedDate.month,this.parsedDate.year);break;case"months":this.date=new Date(e.year-1,e.month,1),t.onChangeYear&&t.onChangeYear(this.parsedDate.year);break;case"years":this.date=new Date(e.year-10,0,1),t.onChangeDecade&&t.onChangeDecade(this.curDecade)}},formatDate:function(e,t){t=t||this.date;var s,i=e,a=this._getWordBoundaryRegExp,r=this.loc,o=n.getLeadingZeroNum,d=n.getDecade(t),l=n.getParsedDate(t),h=l.fullHours,c=l.hours,u=e.match(a("aa"))||e.match(a("AA")),m="am",p=this._replacer;switch(this.opts.timepicker&&this.timepicker&&u&&(s=this.timepicker._getValidHoursFromDate(t,u),h=o(s.hours),c=s.hours,m=s.dayPeriod),!0){case/@/.test(i):i=i.replace(/@/,t.getTime());case/aa/.test(i):i=p(i,a("aa"),m);case/AA/.test(i):i=p(i,a("AA"),m.toUpperCase());case/dd/.test(i):i=p(i,a("dd"),l.fullDate);case/d/.test(i):i=p(i,a("d"),l.date);case/DD/.test(i):i=p(i,a("DD"),r.days[l.day]);case/D/.test(i):i=p(i,a("D"),r.daysShort[l.day]);case/mm/.test(i):i=p(i,a("mm"),l.fullMonth);case/m/.test(i):i=p(i,a("m"),l.month+1);case/MM/.test(i):i=p(i,a("MM"),this.loc.months[l.month]);case/M/.test(i):i=p(i,a("M"),r.monthsShort[l.month]);case/ii/.test(i):i=p(i,a("ii"),l.fullMinutes);case/i/.test(i):i=p(i,a("i"),l.minutes);case/hh/.test(i):i=p(i,a("hh"),h);case/h/.test(i):i=p(i,a("h"),c);case/yyyy/.test(i):i=p(i,a("yyyy"),l.year);case/yyyy1/.test(i):i=p(i,a("yyyy1"),d[0]);case/yyyy2/.test(i):i=p(i,a("yyyy2"),d[1]);case/yy/.test(i):i=p(i,a("yy"),l.year.toString().slice(-2))}return i},_replacer:function(e,t,s){return e.replace(t,function(e,t,i,a){return t+s+a})},_getWordBoundaryRegExp:function(e){var t="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+t+")("+e+")($|<|"+t+")","g")},selectDate:function(e){var t=this,s=t.opts,i=t.parsedDate,a=t.selectedDates,r=a.length,o="";if(Array.isArray(e))return void e.forEach(function(e){t.selectDate(e)});if(e instanceof Date){if(this.lastSelectedDate=e,this.timepicker&&this.timepicker._setTime(e),t._trigger("selectDate",e),this.timepicker&&(e.setHours(this.timepicker.hours),e.setMinutes(this.timepicker.minutes)),"days"==t.view&&e.getMonth()!=i.month&&s.moveToOtherMonthsOnSelect&&(o=new Date(e.getFullYear(),e.getMonth(),1)),"years"==t.view&&e.getFullYear()!=i.year&&s.moveToOtherYearsOnSelect&&(o=new Date(e.getFullYear(),0,1)),o&&(t.silent=!0,t.date=o,t.silent=!1,t.nav._render()),s.multipleDates&&!s.range){if(r===s.multipleDates)return;t._isSelected(e)||t.selectedDates.push(e)}else s.range?2==r?(t.selectedDates=[e],t.minRange=e,t.maxRange=""):1==r?(t.selectedDates.push(e),t.maxRange?t.minRange=e:t.maxRange=e,n.bigger(t.maxRange,t.minRange)&&(t.maxRange=t.minRange,t.minRange=e),t.selectedDates=[t.minRange,t.maxRange]):(t.selectedDates=[e],t.minRange=e):t.selectedDates=[e];t._setInputValue(),s.onSelect&&t._triggerOnChange(),s.autoClose&&!this.timepickerIsActive&&(s.multipleDates||s.range?s.range&&2==t.selectedDates.length&&t.hide():t.hide()),t.views[this.currentView]._render()}},removeDate:function(e){var t=this.selectedDates,s=this;if(e instanceof Date)return t.some(function(i,a){if(n.isSame(i,e))return t.splice(a,1),s.selectedDates.length?s.lastSelectedDate=s.selectedDates[s.selectedDates.length-1]:(s.minRange="",s.maxRange="",s.lastSelectedDate=""),s.views[s.currentView]._render(),s._setInputValue(),s.opts.onSelect&&s._triggerOnChange(),!0})},today:function(){this.silent=!0,this.view=this.opts.minView,this.silent=!1,this.date=new Date,this.opts.todayButton instanceof Date&&this.selectDate(this.opts.todayButton)},clear:function(){this.selectedDates=[],this.minRange="",this.maxRange="",this.views[this.currentView]._render(),this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()},update:function(e,s){var i=arguments.length,a=this.lastSelectedDate;return 2==i?this.opts[e]=s:1==i&&"object"==typeof e&&(this.opts=t.extend(!0,this.opts,e)),this._createShortCuts(),this._syncWithMinMaxDates(),this._defineLocale(this.opts.language),this.nav._addButtonsIfNeed(),this.opts.onlyTimepicker||this.nav._render(),this.views[this.currentView]._render(),this.elIsInput&&!this.opts.inline&&(this._setPositionClasses(this.opts.position),this.visible&&this.setPosition(this.opts.position)),this.opts.classes&&this.$datepicker.addClass(this.opts.classes),this.opts.onlyTimepicker&&this.$datepicker.addClass("-only-timepicker-"),this.opts.timepicker&&(a&&this.timepicker._handleDate(a),this.timepicker._updateRanges(),this.timepicker._updateCurrentTime(),a&&(a.setHours(this.timepicker.hours),a.setMinutes(this.timepicker.minutes))),this._setInputValue(),this},_syncWithMinMaxDates:function(){var e=this.date.getTime();this.silent=!0,this.minTime>e&&(this.date=this.minDate),this.maxTime<e&&(this.date=this.maxDate),this.silent=!1},_isSelected:function(e,t){var s=!1;return this.selectedDates.some(function(i){if(n.isSame(i,e,t))return s=i,!0}),s},_setInputValue:function(){var e,t=this,s=t.opts,i=t.loc.dateFormat,a=s.altFieldDateFormat,n=t.selectedDates.map(function(e){return t.formatDate(i,e)});s.altField&&t.$altField.length&&(e=this.selectedDates.map(function(e){return t.formatDate(a,e)}),e=e.join(this.opts.multipleDatesSeparator),this.$altField.val(e)),n=n.join(this.opts.multipleDatesSeparator),this.$el.val(n)},_isInRange:function(e,t){var s=e.getTime(),i=n.getParsedDate(e),a=n.getParsedDate(this.minDate),r=n.getParsedDate(this.maxDate),o=new Date(i.year,i.month,a.date).getTime(),d=new Date(i.year,i.month,r.date).getTime(),l={day:s>=this.minTime&&s<=this.maxTime,month:o>=this.minTime&&d<=this.maxTime,year:i.year>=a.year&&i.year<=r.year};return t?l[t]:l.day},_getDimensions:function(e){var t=e.offset();return{width:e.outerWidth(),height:e.outerHeight(),left:t.left,top:t.top}},_getDateFromCell:function(e){var t=this.parsedDate,i=e.data("year")||t.year,a=e.data("month")==s?t.month:e.data("month"),n=e.data("date")||1;return new Date(i,a,n)},_setPositionClasses:function(e){e=e.split(" ");var t=e[0],s=e[1],i="datepicker -"+t+"-"+s+"- -from-"+t+"-";this.visible&&(i+=" active"),this.$datepicker.removeAttr("class").addClass(i)},setPosition:function(e){e=e||this.opts.position;var t,s,i=this._getDimensions(this.$el),a=this._getDimensions(this.$datepicker),n=e.split(" "),r=this.opts.offset,o=n[0],d=n[1];switch(o){case"top":t=i.top-a.height-r;break;case"right":s=i.left+i.width+r;break;case"bottom":t=i.top+i.height+r;break;case"left":s=i.left-a.width-r}switch(d){case"top":t=i.top;break;case"right":s=i.left+i.width-a.width;break;case"bottom":t=i.top+i.height-a.height;break;case"left":s=i.left;break;case"center":/left|right/.test(o)?t=i.top+i.height/2-a.height/2:s=i.left+i.width/2-a.width/2}this.$datepicker.css({left:s,top:t})},show:function(){var e=this.opts.onShow;this.setPosition(this.opts.position),this.$datepicker.addClass("active"),this.visible=!0,e&&this._bindVisionEvents(e)},hide:function(){var e=this.opts.onHide;this.$datepicker.removeClass("active").css({left:"-100000px"}),this.focused="",this.keys=[],this.inFocus=!1,this.visible=!1,this.$el.blur(),e&&this._bindVisionEvents(e)},down:function(e){this._changeView(e,"down")},up:function(e){this._changeView(e,"up")},_bindVisionEvents:function(e){this.$datepicker.off("transitionend.dp"),e(this,!1),this.$datepicker.one("transitionend.dp",e.bind(this,this,!0))},_changeView:function(e,t){e=e||this.focused||this.date;var s="up"==t?this.viewIndex+1:this.viewIndex-1;s>2&&(s=2),s<0&&(s=0),this.silent=!0,this.date=new Date(e.getFullYear(),e.getMonth(),1),this.silent=!1,this.view=this.viewIndexes[s]},_handleHotKey:function(e){var t,s,i,a=n.getParsedDate(this._getFocusedDate()),r=this.opts,o=!1,d=!1,l=!1,h=a.year,c=a.month,u=a.date;switch(e){case"ctrlRight":case"ctrlUp":c+=1,o=!0;break;case"ctrlLeft":case"ctrlDown":c-=1,o=!0;break;case"shiftRight":case"shiftUp":d=!0,h+=1;break;case"shiftLeft":case"shiftDown":d=!0,h-=1;break;case"altRight":case"altUp":l=!0,h+=10;break;case"altLeft":case"altDown":l=!0,h-=10;break;case"ctrlShiftUp":this.up()}i=n.getDaysCount(new Date(h,c)),s=new Date(h,c,u),i<u&&(u=i),s.getTime()<this.minTime?s=this.minDate:s.getTime()>this.maxTime&&(s=this.maxDate),this.focused=s,t=n.getParsedDate(s),o&&r.onChangeMonth&&r.onChangeMonth(t.month,t.year),d&&r.onChangeYear&&r.onChangeYear(t.year),l&&r.onChangeDecade&&r.onChangeDecade(this.curDecade)},_registerKey:function(e){var t=this.keys.some(function(t){return t==e});t||this.keys.push(e)},_unRegisterKey:function(e){var t=this.keys.indexOf(e);this.keys.splice(t,1)},_isHotKeyPressed:function(){var e,t=!1,s=this,i=this.keys.sort();for(var a in u)e=u[a],i.length==e.length&&e.every(function(e,t){return e==i[t]})&&(s._trigger("hotKey",a),t=!0);return t},_trigger:function(e,t){this.$el.trigger(e,t)},_focusNextCell:function(e,t){t=t||this.cellType;var s=n.getParsedDate(this._getFocusedDate()),i=s.year,a=s.month,r=s.date;if(!this._isHotKeyPressed()){switch(e){case 37:"day"==t?r-=1:"","month"==t?a-=1:"","year"==t?i-=1:"";break;case 38:"day"==t?r-=7:"","month"==t?a-=3:"","year"==t?i-=4:"";break;case 39:"day"==t?r+=1:"","month"==t?a+=1:"","year"==t?i+=1:"";break;case 40:"day"==t?r+=7:"","month"==t?a+=3:"","year"==t?i+=4:""}var o=new Date(i,a,r);o.getTime()<this.minTime?o=this.minDate:o.getTime()>this.maxTime&&(o=this.maxDate),this.focused=o}},_getFocusedDate:function(){var e=this.focused||this.selectedDates[this.selectedDates.length-1],t=this.parsedDate;if(!e)switch(this.view){case"days":e=new Date(t.year,t.month,(new Date).getDate());break;case"months":e=new Date(t.year,t.month,1);break;case"years":e=new Date(t.year,0,1)}return e},_getCell:function(e,s){s=s||this.cellType;var i,a=n.getParsedDate(e),r='.datepicker--cell[data-year="'+a.year+'"]';switch(s){case"month":r='[data-month="'+a.month+'"]';break;case"day":r+='[data-month="'+a.month+'"][data-date="'+a.date+'"]'}return i=this.views[this.currentView].$el.find(r),i.length?i:t("")},destroy:function(){var e=this;e.$el.off(".adp").data("datepicker",""),e.selectedDates=[],e.focused="",e.views={},e.keys=[],e.minRange="",e.maxRange="",e.opts.inline||!e.elIsInput?e.$datepicker.closest(".datepicker-inline").remove():e.$datepicker.remove()},_handleAlreadySelectedDates:function(e,t){this.opts.range?this.opts.toggleSelected?this.removeDate(t):2!=this.selectedDates.length&&this._trigger("clickCell",t):this.opts.toggleSelected&&this.removeDate(t),this.opts.toggleSelected||(this.lastSelectedDate=e,this.opts.timepicker&&(this.timepicker._setTime(e),this.timepicker.update()))},_onShowEvent:function(e){this.visible||this.show()},_onBlur:function(){!this.inFocus&&this.visible&&this.hide()},_onMouseDownDatepicker:function(e){this.inFocus=!0},_onMouseUpDatepicker:function(e){this.inFocus=!1,e.originalEvent.inFocus=!0,e.originalEvent.timepickerFocus||this.$el.focus()},_onKeyUpGeneral:function(e){var t=this.$el.val();t||this.clear()},_onResize:function(){this.visible&&this.setPosition()},_onMouseUpBody:function(e){e.originalEvent.inFocus||this.visible&&!this.inFocus&&this.hide()},_onMouseUpEl:function(e){e.originalEvent.inFocus=!0,setTimeout(this._onKeyUpGeneral.bind(this),4)},_onKeyDown:function(e){var t=e.which;if(this._registerKey(t),t>=37&&t<=40&&(e.preventDefault(),this._focusNextCell(t)),13==t&&this.focused){if(this._getCell(this.focused).hasClass("-disabled-"))return;if(this.view!=this.opts.minView)this.down();else{var s=this._isSelected(this.focused,this.cellType);if(!s)return this.timepicker&&(this.focused.setHours(this.timepicker.hours),this.focused.setMinutes(this.timepicker.minutes)),void this.selectDate(this.focused);this._handleAlreadySelectedDates(s,this.focused)}}27==t&&this.hide()},_onKeyUp:function(e){var t=e.which;this._unRegisterKey(t)},_onHotKey:function(e,t){this._handleHotKey(t)},_onMouseEnterCell:function(e){var s=t(e.target).closest(".datepicker--cell"),i=this._getDateFromCell(s);this.silent=!0,this.focused&&(this.focused=""),s.addClass("-focus-"),this.focused=i,this.silent=!1,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",n.less(this.minRange,this.focused)&&(this.maxRange=this.minRange,this.minRange=""),this.views[this.currentView]._update())},_onMouseLeaveCell:function(e){var s=t(e.target).closest(".datepicker--cell");s.removeClass("-focus-"),this.silent=!0,this.focused="",this.silent=!1},_onTimeChange:function(e,t,s){var i=new Date,a=this.selectedDates,n=!1;a.length&&(n=!0,i=this.lastSelectedDate),i.setHours(t),i.setMinutes(s),n||this._getCell(i).hasClass("-disabled-")?(this._setInputValue(),this.opts.onSelect&&this._triggerOnChange()):this.selectDate(i)},_onClickCell:function(e,t){this.timepicker&&(t.setHours(this.timepicker.hours),t.setMinutes(this.timepicker.minutes)),this.selectDate(t)},set focused(e){if(!e&&this.focused){var t=this._getCell(this.focused);t.length&&t.removeClass("-focus-")}this._focused=e,this.opts.range&&1==this.selectedDates.length&&(this.minRange=this.selectedDates[0],this.maxRange="",n.less(this.minRange,this._focused)&&(this.maxRange=this.minRange,this.minRange="")),this.silent||(this.date=e)},get focused(){return this._focused},get parsedDate(){return n.getParsedDate(this.date)},set date(e){if(e instanceof Date)return this.currentDate=e,this.inited&&!this.silent&&(this.views[this.view]._render(),this.nav._render(),this.visible&&this.elIsInput&&this.setPosition()),e},get date(){return this.currentDate},set view(e){if(this.viewIndex=this.viewIndexes.indexOf(e),!(this.viewIndex<0))return this.prevView=this.currentView,this.currentView=e,this.inited&&(this.views[e]?this.views[e]._render():this.views[e]=new t.fn.datepicker.Body(this,e,this.opts),this.views[this.prevView].hide(),this.views[e].show(),this.nav._render(),this.opts.onChangeView&&this.opts.onChangeView(e),this.elIsInput&&this.visible&&this.setPosition()),e},get view(){return this.currentView},get cellType(){return this.view.substring(0,this.view.length-1)},get minTime(){var e=n.getParsedDate(this.minDate);return new Date(e.year,e.month,e.date).getTime()},get maxTime(){var e=n.getParsedDate(this.maxDate);return new Date(e.year,e.month,e.date).getTime()},get curDecade(){return n.getDecade(this.date)}},n.getDaysCount=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},n.getParsedDate=function(e){return{year:e.getFullYear(),month:e.getMonth(),fullMonth:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,date:e.getDate(),fullDate:e.getDate()<10?"0"+e.getDate():e.getDate(),day:e.getDay(),hours:e.getHours(),fullHours:e.getHours()<10?"0"+e.getHours():e.getHours(),minutes:e.getMinutes(),fullMinutes:e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()}},n.getDecade=function(e){var t=10*Math.floor(e.getFullYear()/10);return[t,t+9]},n.template=function(e,t){return e.replace(/#\{([\w]+)\}/g,function(e,s){if(t[s]||0===t[s])return t[s]})},n.isSame=function(e,t,s){if(!e||!t)return!1;var i=n.getParsedDate(e),a=n.getParsedDate(t),r=s?s:"day",o={day:i.date==a.date&&i.month==a.month&&i.year==a.year,month:i.month==a.month&&i.year==a.year,year:i.year==a.year};return o[r]},n.less=function(e,t,s){return!(!e||!t)&&t.getTime()<e.getTime()},n.bigger=function(e,t,s){return!(!e||!t)&&t.getTime()>e.getTime()},n.getLeadingZeroNum=function(e){return parseInt(e)<10?"0"+e:e},n.resetTime=function(e){if("object"==typeof e)return e=n.getParsedDate(e),new Date(e.year,e.month,e.date)},t.fn.datepicker=function(e){return this.each(function(){if(t.data(this,o)){var s=t.data(this,o);s.opts=t.extend(!0,s.opts,e),s.update()}else t.data(this,o,new m(this,e))})},t.fn.datepicker.Constructor=m,t.fn.datepicker.language={ru:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.mm.yyyy",timeFormat:"hh:ii",firstDay:1}},t(function(){t(d).datepicker()})})(),function(){var e={days:'<div class="datepicker--days datepicker--body"><div class="datepicker--days-names"></div><div class="datepicker--cells datepicker--cells-days"></div></div>',months:'<div class="datepicker--months datepicker--body"><div class="datepicker--cells datepicker--cells-months"></div></div>',years:'<div class="datepicker--years datepicker--body"><div class="datepicker--cells datepicker--cells-years"></div></div>'},i=t.fn.datepicker,a=i.Constructor;i.Body=function(e,s,i){this.d=e,this.type=s,this.opts=i,this.$el=t(""),this.opts.onlyTimepicker||this.init()},i.Body.prototype={init:function(){this._buildBaseHtml(),this._render(),this._bindEvents()},_bindEvents:function(){this.$el.on("click",".datepicker--cell",t.proxy(this._onClickCell,this))},_buildBaseHtml:function(){this.$el=t(e[this.type]).appendTo(this.d.$content),this.$names=t(".datepicker--days-names",this.$el),this.$cells=t(".datepicker--cells",this.$el)},_getDayNamesHtml:function(e,t,i,a){return t=t!=s?t:e,i=i?i:"",a=a!=s?a:0,a>7?i:7==t?this._getDayNamesHtml(e,0,i,++a):(i+='<div class="datepicker--day-name'+(this.d.isWeekend(t)?" -weekend-":"")+'">'+this.d.loc.daysMin[t]+"</div>",this._getDayNamesHtml(e,++t,i,++a))},_getCellContents:function(e,t){var s="datepicker--cell datepicker--cell-"+t,i=new Date,n=this.d,r=a.resetTime(n.minRange),o=a.resetTime(n.maxRange),d=n.opts,l=a.getParsedDate(e),h={},c=l.date;switch(t){case"day":n.isWeekend(l.day)&&(s+=" -weekend-"),l.month!=this.d.parsedDate.month&&(s+=" -other-month-",d.selectOtherMonths||(s+=" -disabled-"),d.showOtherMonths||(c=""));break;case"month":c=n.loc[n.opts.monthsField][l.month];break;case"year":var u=n.curDecade;c=l.year,(l.year<u[0]||l.year>u[1])&&(s+=" -other-decade-",d.selectOtherYears||(s+=" -disabled-"),d.showOtherYears||(c=""))}return d.onRenderCell&&(h=d.onRenderCell(e,t)||{},c=h.html?h.html:c,s+=h.classes?" "+h.classes:""),d.range&&(a.isSame(r,e,t)&&(s+=" -range-from-"),a.isSame(o,e,t)&&(s+=" -range-to-"),1==n.selectedDates.length&&n.focused?((a.bigger(r,e)&&a.less(n.focused,e)||a.less(o,e)&&a.bigger(n.focused,e))&&(s+=" -in-range-"),a.less(o,e)&&a.isSame(n.focused,e)&&(s+=" -range-from-"),a.bigger(r,e)&&a.isSame(n.focused,e)&&(s+=" -range-to-")):2==n.selectedDates.length&&a.bigger(r,e)&&a.less(o,e)&&(s+=" -in-range-")),a.isSame(i,e,t)&&(s+=" -current-"),n.focused&&a.isSame(e,n.focused,t)&&(s+=" -focus-"),n._isSelected(e,t)&&(s+=" -selected-"),n._isInRange(e,t)&&!h.disabled||(s+=" -disabled-"),{html:c,classes:s}},_getDaysHtml:function(e){var t=a.getDaysCount(e),s=new Date(e.getFullYear(),e.getMonth(),1).getDay(),i=new Date(e.getFullYear(),e.getMonth(),t).getDay(),n=s-this.d.loc.firstDay,r=6-i+this.d.loc.firstDay;n=n<0?n+7:n,r=r>6?r-7:r;for(var o,d,l=-n+1,h="",c=l,u=t+r;c<=u;c++)d=e.getFullYear(),o=e.getMonth(),h+=this._getDayHtml(new Date(d,o,c));return h},_getDayHtml:function(e){var t=this._getCellContents(e,"day");return'<div class="'+t.classes+'" data-date="'+e.getDate()+'" data-month="'+e.getMonth()+'" data-year="'+e.getFullYear()+'">'+t.html+"</div>"},_getMonthsHtml:function(e){for(var t="",s=a.getParsedDate(e),i=0;i<12;)t+=this._getMonthHtml(new Date(s.year,i)),i++;return t},_getMonthHtml:function(e){var t=this._getCellContents(e,"month");return'<div class="'+t.classes+'" data-month="'+e.getMonth()+'">'+t.html+"</div>"},_getYearsHtml:function(e){var t=(a.getParsedDate(e),a.getDecade(e)),s=t[0]-1,i="",n=s;for(n;n<=t[1]+1;n++)i+=this._getYearHtml(new Date(n,0));return i},_getYearHtml:function(e){var t=this._getCellContents(e,"year");return'<div class="'+t.classes+'" data-year="'+e.getFullYear()+'">'+t.html+"</div>"},_renderTypes:{days:function(){var e=this._getDayNamesHtml(this.d.loc.firstDay),t=this._getDaysHtml(this.d.currentDate);this.$cells.html(t),this.$names.html(e)},months:function(){var e=this._getMonthsHtml(this.d.currentDate);this.$cells.html(e)},years:function(){var e=this._getYearsHtml(this.d.currentDate);this.$cells.html(e)}},_render:function(){this.opts.onlyTimepicker||this._renderTypes[this.type].bind(this)()},_update:function(){var e,s,i,a=t(".datepicker--cell",this.$cells),n=this;a.each(function(a,r){s=t(this),i=n.d._getDateFromCell(t(this)),e=n._getCellContents(i,n.d.cellType),s.attr("class",e.classes)})},show:function(){this.opts.onlyTimepicker||(this.$el.addClass("active"),this.acitve=!0)},hide:function(){this.$el.removeClass("active"),this.active=!1},_handleClick:function(e){var t=e.data("date")||1,s=e.data("month")||0,i=e.data("year")||this.d.parsedDate.year,a=this.d;if(a.view!=this.opts.minView)return void a.down(new Date(i,s,t));var n=new Date(i,s,t),r=this.d._isSelected(n,this.d.cellType);return r?void a._handleAlreadySelectedDates.bind(a,r,n)():void a._trigger("clickCell",n)},_onClickCell:function(e){var s=t(e.target).closest(".datepicker--cell");s.hasClass("-disabled-")||this._handleClick.bind(this)(s)}}}(),function(){var e='<div class="datepicker--nav-action" data-action="prev">#{prevHtml}</div><div class="datepicker--nav-title">#{title}</div><div class="datepicker--nav-action" data-action="next">#{nextHtml}</div>',s='<div class="datepicker--buttons"></div>',i='<span class="datepicker--button" data-action="#{action}">#{label}</span>',a=t.fn.datepicker,n=a.Constructor;a.Navigation=function(e,t){this.d=e,this.opts=t,this.$buttonsContainer="",this.init()},a.Navigation.prototype={init:function(){this._buildBaseHtml(),this._bindEvents()},_bindEvents:function(){this.d.$nav.on("click",".datepicker--nav-action",t.proxy(this._onClickNavButton,this)),this.d.$nav.on("click",".datepicker--nav-title",t.proxy(this._onClickNavTitle,this)),this.d.$datepicker.on("click",".datepicker--button",t.proxy(this._onClickNavButton,this))},_buildBaseHtml:function(){this.opts.onlyTimepicker||this._render(),this._addButtonsIfNeed()},_addButtonsIfNeed:function(){this.opts.todayButton&&this._addButton("today"),this.opts.clearButton&&this._addButton("clear")},_render:function(){var s=this._getTitle(this.d.currentDate),i=n.template(e,t.extend({title:s},this.opts));this.d.$nav.html(i),"years"==this.d.view&&t(".datepicker--nav-title",this.d.$nav).addClass("-disabled-"),this.setNavStatus()},_getTitle:function(e){return this.d.formatDate(this.opts.navTitles[this.d.view],e)},_addButton:function(e){this.$buttonsContainer.length||this._addButtonsContainer();var s={action:e,label:this.d.loc[e]},a=n.template(i,s);t("[data-action="+e+"]",this.$buttonsContainer).length||this.$buttonsContainer.append(a)},_addButtonsContainer:function(){this.d.$datepicker.append(s),this.$buttonsContainer=t(".datepicker--buttons",this.d.$datepicker)},setNavStatus:function(){if((this.opts.minDate||this.opts.maxDate)&&this.opts.disableNavWhenOutOfRange){var e=this.d.parsedDate,t=e.month,s=e.year,i=e.date;switch(this.d.view){case"days":this.d._isInRange(new Date(s,t-1,1),"month")||this._disableNav("prev"),this.d._isInRange(new Date(s,t+1,1),"month")||this._disableNav("next");break;case"months":this.d._isInRange(new Date(s-1,t,i),"year")||this._disableNav("prev"),this.d._isInRange(new Date(s+1,t,i),"year")||this._disableNav("next");break;case"years":var a=n.getDecade(this.d.date);this.d._isInRange(new Date(a[0]-1,0,1),"year")||this._disableNav("prev"),this.d._isInRange(new Date(a[1]+1,0,1),"year")||this._disableNav("next")}}},_disableNav:function(e){t('[data-action="'+e+'"]',this.d.$nav).addClass("-disabled-")},_activateNav:function(e){t('[data-action="'+e+'"]',this.d.$nav).removeClass("-disabled-")},_onClickNavButton:function(e){var s=t(e.target).closest("[data-action]"),i=s.data("action");this.d[i]()},_onClickNavTitle:function(e){if(!t(e.target).hasClass("-disabled-"))return"days"==this.d.view?this.d.view="months":void(this.d.view="years");
}}}(),function(){var e='<div class="datepicker--time"><div class="datepicker--time-current">   <span class="datepicker--time-current-hours">#{hourVisible}</span>   <span class="datepicker--time-current-colon">:</span>   <span class="datepicker--time-current-minutes">#{minValue}</span></div><div class="datepicker--time-sliders">   <div class="datepicker--time-row">      <input type="range" name="hours" value="#{hourValue}" min="#{hourMin}" max="#{hourMax}" step="#{hourStep}"/>   </div>   <div class="datepicker--time-row">      <input type="range" name="minutes" value="#{minValue}" min="#{minMin}" max="#{minMax}" step="#{minStep}"/>   </div></div></div>',s=t.fn.datepicker,i=s.Constructor;s.Timepicker=function(e,t){this.d=e,this.opts=t,this.init()},s.Timepicker.prototype={init:function(){var e="input";this._setTime(this.d.date),this._buildHTML(),navigator.userAgent.match(/trident/gi)&&(e="change"),this.d.$el.on("selectDate",this._onSelectDate.bind(this)),this.$ranges.on(e,this._onChangeRange.bind(this)),this.$ranges.on("mouseup",this._onMouseUpRange.bind(this)),this.$ranges.on("mousemove focus ",this._onMouseEnterRange.bind(this)),this.$ranges.on("mouseout blur",this._onMouseOutRange.bind(this))},_setTime:function(e){var t=i.getParsedDate(e);this._handleDate(e),this.hours=t.hours<this.minHours?this.minHours:t.hours,this.minutes=t.minutes<this.minMinutes?this.minMinutes:t.minutes},_setMinTimeFromDate:function(e){this.minHours=e.getHours(),this.minMinutes=e.getMinutes(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()>e.getHours()&&(this.minMinutes=this.opts.minMinutes)},_setMaxTimeFromDate:function(e){this.maxHours=e.getHours(),this.maxMinutes=e.getMinutes(),this.d.lastSelectedDate&&this.d.lastSelectedDate.getHours()<e.getHours()&&(this.maxMinutes=this.opts.maxMinutes)},_setDefaultMinMaxTime:function(){var e=23,t=59,s=this.opts;this.minHours=s.minHours<0||s.minHours>e?0:s.minHours,this.minMinutes=s.minMinutes<0||s.minMinutes>t?0:s.minMinutes,this.maxHours=s.maxHours<0||s.maxHours>e?e:s.maxHours,this.maxMinutes=s.maxMinutes<0||s.maxMinutes>t?t:s.maxMinutes},_validateHoursMinutes:function(e){this.hours<this.minHours?this.hours=this.minHours:this.hours>this.maxHours&&(this.hours=this.maxHours),this.minutes<this.minMinutes?this.minutes=this.minMinutes:this.minutes>this.maxMinutes&&(this.minutes=this.maxMinutes)},_buildHTML:function(){var s=i.getLeadingZeroNum,a={hourMin:this.minHours,hourMax:s(this.maxHours),hourStep:this.opts.hoursStep,hourValue:this.hours,hourVisible:s(this.displayHours),minMin:this.minMinutes,minMax:s(this.maxMinutes),minStep:this.opts.minutesStep,minValue:s(this.minutes)},n=i.template(e,a);this.$timepicker=t(n).appendTo(this.d.$datepicker),this.$ranges=t('[type="range"]',this.$timepicker),this.$hours=t('[name="hours"]',this.$timepicker),this.$minutes=t('[name="minutes"]',this.$timepicker),this.$hoursText=t(".datepicker--time-current-hours",this.$timepicker),this.$minutesText=t(".datepicker--time-current-minutes",this.$timepicker),this.d.ampm&&(this.$ampm=t('<span class="datepicker--time-current-ampm">').appendTo(t(".datepicker--time-current",this.$timepicker)).html(this.dayPeriod),this.$timepicker.addClass("-am-pm-"))},_updateCurrentTime:function(){var e=i.getLeadingZeroNum(this.displayHours),t=i.getLeadingZeroNum(this.minutes);this.$hoursText.html(e),this.$minutesText.html(t),this.d.ampm&&this.$ampm.html(this.dayPeriod)},_updateRanges:function(){this.$hours.attr({min:this.minHours,max:this.maxHours}).val(this.hours),this.$minutes.attr({min:this.minMinutes,max:this.maxMinutes}).val(this.minutes)},_handleDate:function(e){this._setDefaultMinMaxTime(),e&&(i.isSame(e,this.d.opts.minDate)?this._setMinTimeFromDate(this.d.opts.minDate):i.isSame(e,this.d.opts.maxDate)&&this._setMaxTimeFromDate(this.d.opts.maxDate)),this._validateHoursMinutes(e)},update:function(){this._updateRanges(),this._updateCurrentTime()},_getValidHoursFromDate:function(e,t){var s=e,a=e;e instanceof Date&&(s=i.getParsedDate(e),a=s.hours);var n=t||this.d.ampm,r="am";if(n)switch(!0){case 0==a:a=12;break;case 12==a:r="pm";break;case a>11:a-=12,r="pm"}return{hours:a,dayPeriod:r}},set hours(e){this._hours=e;var t=this._getValidHoursFromDate(e);this.displayHours=t.hours,this.dayPeriod=t.dayPeriod},get hours(){return this._hours},_onChangeRange:function(e){var s=t(e.target),i=s.attr("name");this.d.timepickerIsActive=!0,this[i]=s.val(),this._updateCurrentTime(),this.d._trigger("timeChange",[this.hours,this.minutes]),this._handleDate(this.d.lastSelectedDate),this.update()},_onSelectDate:function(e,t){this._handleDate(t),this.update()},_onMouseEnterRange:function(e){var s=t(e.target).attr("name");t(".datepicker--time-current-"+s,this.$timepicker).addClass("-focus-")},_onMouseOutRange:function(e){var s=t(e.target).attr("name");this.d.inFocus||t(".datepicker--time-current-"+s,this.$timepicker).removeClass("-focus-")},_onMouseUpRange:function(e){this.d.timepickerIsActive=!1}}}()})(window,jQuery),function(e){e.fn.datepicker.language.en={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",dateFormat:"mm/dd/yyyy",timeFormat:"hh:ii aa",firstDay:0}}(jQuery),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var s=e.data(this[0],"validator");return s?s:(this.attr("novalidate","novalidate"),s=new e.validator(t,this[0]),e.data(this[0],"validator",s),s.settings.onsubmit&&(this.on("click.validate",":submit",function(t){s.submitButton=t.currentTarget,e(this).hasClass("cancel")&&(s.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(s.cancelSubmit=!0)}),this.on("submit.validate",function(t){function i(){var i,a;return s.submitButton&&(s.settings.submitHandler||s.formSubmitted)&&(i=e("<input type='hidden'/>").attr("name",s.submitButton.name).val(e(s.submitButton).val()).appendTo(s.currentForm)),!s.settings.submitHandler||(a=s.settings.submitHandler.call(s,s.currentForm,t),i&&i.remove(),void 0!==a&&a)}return s.settings.debug&&t.preventDefault(),s.cancelSubmit?(s.cancelSubmit=!1,i()):s.form()?s.pendingRequest?(s.formSubmitted=!0,!1):i():(s.focusInvalid(),!1)})),s)},valid:function(){var t,s,i;return e(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,s=e(this[0].form).validate(),this.each(function(){t=s.element(this)&&t,t||(i=i.concat(s.errorList))}),s.errorList=i),t},rules:function(t,s){var i,a,n,r,o,d,l=this[0];if(null!=l&&(!l.form&&l.hasAttribute("contenteditable")&&(l.form=this.closest("form")[0],l.name=this.attr("name")),null!=l.form)){if(t)switch(i=e.data(l.form,"validator").settings,a=i.rules,n=e.validator.staticRules(l),t){case"add":e.extend(n,e.validator.normalizeRule(s)),delete n.messages,a[l.name]=n,s.messages&&(i.messages[l.name]=e.extend(i.messages[l.name],s.messages));break;case"remove":return s?(d={},e.each(s.split(/\s/),function(e,t){d[t]=n[t],delete n[t]}),d):(delete a[l.name],n)}return r=e.validator.normalizeRules(e.extend({},e.validator.classRules(l),e.validator.attributeRules(l),e.validator.dataRules(l),e.validator.staticRules(l)),l),r.required&&(o=r.required,delete r.required,r=e.extend({required:o},r)),r.remote&&(o=r.remote,delete r.remote,r=e.extend(r,{remote:o})),r}}}),e.extend(e.expr.pseudos||e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var s=e(t).val();return null!==s&&!!e.trim(""+s)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,s){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=s,this.init()},e.validator.format=function(t,s){return 1===arguments.length?function(){var s=e.makeArray(arguments);return s.unshift(t),e.validator.format.apply(this,s)}:void 0===s?t:(arguments.length>2&&s.constructor!==Array&&(s=e.makeArray(arguments).slice(1)),s.constructor!==Array&&(s=[s]),e.each(s,function(e,s){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return s})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,s){var i=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===s.which&&""===this.elementValue(t)||e.inArray(s.keyCode,i)!==-1||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,s,i){"radio"===t.type?this.findByName(t.name).addClass(s).removeClass(i):e(t).addClass(s).removeClass(i)},unhighlight:function(t,s,i){"radio"===t.type?this.findByName(t.name).removeClass(s).addClass(i):e(t).removeClass(s).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){!this.form&&this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0],this.name=e(this).attr("name"));var s=e.data(this.form,"validator"),i="on"+t.type.replace(/^validate/,""),a=s.settings;a[i]&&!e(this).is(a.ignore)&&a[i].call(s,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var s,i=this.groups={};e.each(this.settings.groups,function(t,s){"string"==typeof s&&(s=s.split(/\s/)),e.each(s,function(e,s){i[s]=t})}),s=this.settings.rules,e.each(s,function(t,i){s[t]=e.validator.normalizeRule(i)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var s,i,a=this.clean(t),n=this.validationTargetFor(a),r=this,o=!0;return void 0===n?delete this.invalid[a.name]:(this.prepareElement(n),this.currentElements=e(n),i=this.groups[n.name],i&&e.each(this.groups,function(e,t){t===i&&e!==n.name&&(a=r.validationTargetFor(r.clean(r.findByName(e))),a&&a.name in r.invalid&&(r.currentElements.push(a),o=r.check(a)&&o))}),s=this.check(n)!==!1,o=o&&s,s?this.invalid[n.name]=!1:this.invalid[n.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!s)),o},showErrors:function(t){if(t){var s=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:s.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,s=0;for(t in e)void 0!==e[t]&&null!==e[t]&&e[t]!==!1&&s++;return s},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,s={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var i=this.name||e(this).attr("name");return!i&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0],this.name=i),!(i in s||!t.objectLength(e(this).rules())||(s[i]=!0,0))})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var s,i,a=e(t),n=t.type;return"radio"===n||"checkbox"===n?this.findByName(t.name).filter(":checked").val():"number"===n&&"undefined"!=typeof t.validity?t.validity.badInput?"NaN":a.val():(s=t.hasAttribute("contenteditable")?a.text():a.val(),"file"===n?"C:\\fakepath\\"===s.substr(0,12)?s.substr(12):(i=s.lastIndexOf("/"),i>=0?s.substr(i+1):(i=s.lastIndexOf("\\"),i>=0?s.substr(i+1):s)):"string"==typeof s?s.replace(/\r/g,""):s)},check:function(t){t=this.validationTargetFor(this.clean(t));var s,i,a,n,r=e(t).rules(),o=e.map(r,function(e,t){return t}).length,d=!1,l=this.elementValue(t);if("function"==typeof r.normalizer?n=r.normalizer:"function"==typeof this.settings.normalizer&&(n=this.settings.normalizer),n){if(l=n.call(t,l),"string"!=typeof l)throw new TypeError("The normalizer should return a string value.");delete r.normalizer}for(i in r){a={method:i,parameters:r[i]};try{if(s=e.validator.methods[i].call(this,l,t,a.parameters),"dependency-mismatch"===s&&1===o){d=!0;continue}if(d=!1,"pending"===s)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!s)return this.formatAndAdd(t,a),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+a.method+"' method."),e}}if(!d)return this.objectLength(r)&&this.successList.push(t),!0},customDataMessage:function(t,s){return e(t).data("msg"+s.charAt(0).toUpperCase()+s.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var s=this.settings.messages[e];return s&&(s.constructor===String?s:s[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,s){"string"==typeof s&&(s={method:s});var i=this.findDefined(this.customMessage(t.name,s.method),this.customDataMessage(t,s.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[s.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),a=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,s.parameters,t):a.test(i)&&(i=e.validator.format(i.replace(a,"{$1}"),s.parameters)),i},formatAndAdd:function(e,t){var s=this.defaultMessage(e,t);this.errorList.push({message:s,element:e,method:t.method}),this.errorMap[e.name]=s,this.submitted[e.name]=s},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,s;for(e=0;this.errorList[e];e++)s=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,s.element,this.settings.errorClass,this.settings.validClass),this.showLabel(s.element,s.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,s){var i,a,n,r,o=this.errorsFor(t),d=this.idOrName(t),l=e(t).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(s)):(o=e("<"+this.settings.errorElement+">").attr("id",d+"-error").addClass(this.settings.errorClass).html(s||""),i=o,this.settings.wrapper&&(i=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,e(t)):i.insertAfter(t),o.is("label")?o.attr("for",d):0===o.parents("label[for='"+this.escapeCssMeta(d)+"']").length&&(n=o.attr("id"),l?l.match(new RegExp("\\b"+this.escapeCssMeta(n)+"\\b"))||(l+=" "+n):l=n,e(t).attr("aria-describedby",l),a=this.groups[t.name],a&&(r=this,e.each(r.groups,function(t,s){s===a&&e("[name='"+r.escapeCssMeta(t)+"']",r.currentForm).attr("aria-describedby",o.attr("id"))})))),!s&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,t)),this.toShow=this.toShow.add(o)},errorsFor:function(t){var s=this.escapeCssMeta(this.idOrName(t)),i=e(t).attr("aria-describedby"),a="label[for='"+s+"'], label[for='"+s+"'] *";return i&&(a=a+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(a)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,s){switch(s.nodeName.toLowerCase()){case"select":return e("option:selected",s).length;case"input":if(this.checkable(s))return this.findByName(s.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,s){return!!e(t,s.form).length},function:function(e,t){return e(t)}},optional:function(t){var s=this.elementValue(t);return!e.validator.methods.required.call(this,s,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,s){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),s&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.submitButton&&e("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!s&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,s){return s="string"==typeof s&&s||"remote",e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:s})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,s){t.constructor===String?this.classRuleSettings[t]=s:e.extend(this.classRuleSettings,t)},classRules:function(t){var s={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(s,e.validator.classRuleSettings[this])}),s},normalizeAttributeRule:function(e,t,s,i){/min|max|step/.test(s)&&(null===t||/number|range|text/.test(t))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?e[s]=i:t===s&&"range"!==t&&(e[s]=!0)},attributeRules:function(t){var s,i,a={},n=e(t),r=t.getAttribute("type");for(s in e.validator.methods)"required"===s?(i=t.getAttribute(s),""===i&&(i=!0),i=!!i):i=n.attr(s),this.normalizeAttributeRule(a,r,s,i);return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(t){var s,i,a={},n=e(t),r=t.getAttribute("type");for(s in e.validator.methods)i=n.data("rule"+s.charAt(0).toUpperCase()+s.substring(1).toLowerCase()),this.normalizeAttributeRule(a,r,s,i);return a},staticRules:function(t){var s={},i=e.data(t.form,"validator");return i.settings.rules&&(s=e.validator.normalizeRule(i.settings.rules[t.name])||{}),s},normalizeRules:function(t,s){return e.each(t,function(i,a){if(a===!1)return void delete t[i];if(a.param||a.depends){var n=!0;switch(typeof a.depends){case"string":n=!!e(a.depends,s.form).length;break;case"function":n=a.depends.call(s,s)}n?t[i]=void 0===a.param||a.param:(e.data(s.form,"validator").resetElements(e(s)),delete t[i])}}),e.each(t,function(i,a){t[i]=e.isFunction(a)&&"normalizer"!==i?a(s):a}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var s;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(s=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(s[0]),Number(s[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var s={};e.each(t.split(/\s/),function(){s[this]=!0}),t=s}return t},addMethod:function(t,s,i){e.validator.methods[t]=s,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],s.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,s,i){if(!this.depend(i,s))return"dependency-mismatch";if("select"===s.nodeName.toLowerCase()){var a=e(s).val();return a&&a.length>0}return this.checkable(s)?this.getLength(t,s)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,s,i){var a=e.isArray(t)?t.length:this.getLength(t,s);return this.optional(s)||a>=i},maxlength:function(t,s,i){var a=e.isArray(t)?t.length:this.getLength(t,s);return this.optional(s)||a<=i},rangelength:function(t,s,i){var a=e.isArray(t)?t.length:this.getLength(t,s);return this.optional(s)||a>=i[0]&&a<=i[1]},min:function(e,t,s){return this.optional(t)||e>=s},max:function(e,t,s){return this.optional(t)||e<=s},range:function(e,t,s){return this.optional(t)||e>=s[0]&&e<=s[1]},step:function(t,s,i){var a,n=e(s).attr("type"),r="Step attribute on input type "+n+" is not supported.",o=["text","number","range"],d=new RegExp("\\b"+n+"\\b"),l=n&&!d.test(o.join()),h=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},c=function(e){return Math.round(e*Math.pow(10,a))},u=!0;if(l)throw new Error(r);return a=h(i),(h(t)>a||c(t)%c(i)!==0)&&(u=!1),this.optional(s)||u},equalTo:function(t,s,i){var a=e(i);return this.settings.onfocusout&&a.not(".validate-equalTo-blur").length&&a.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(s).valid()}),t===a.val()},remote:function(t,s,i,a){if(this.optional(s))return"dependency-mismatch";a="string"==typeof a&&a||"remote";var n,r,o,d=this.previousValue(s,a);return this.settings.messages[s.name]||(this.settings.messages[s.name]={}),d.originalMessage=d.originalMessage||this.settings.messages[s.name][a],this.settings.messages[s.name][a]=d.message,i="string"==typeof i&&{url:i}||i,o=e.param(e.extend({data:t},i.data)),d.old===o?d.valid:(d.old=o,n=this,this.startRequest(s),r={},r[s.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+s.name,dataType:"json",data:r,context:n.currentForm,success:function(e){var i,r,o,l=e===!0||"true"===e;n.settings.messages[s.name][a]=d.originalMessage,l?(o=n.formSubmitted,n.resetInternals(),n.toHide=n.errorsFor(s),n.formSubmitted=o,n.successList.push(s),n.invalid[s.name]=!1,n.showErrors()):(i={},r=e||n.defaultMessage(s,{method:a,parameters:t}),i[s.name]=d.message=r,n.invalid[s.name]=!0,n.showErrors(i)),d.valid=l,n.stopRequest(s,l)}},i)),"pending")}}});var t,s={};return e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,i){var a=e.port;"abort"===e.mode&&(s[a]&&s[a].abort(),s[a]=i)}):(t=e.ajax,e.ajax=function(i){var a=("mode"in i?i:e.ajaxSettings).mode,n=("port"in i?i:e.ajaxSettings).port;return"abort"===a?(s[n]&&s[n].abort(),s[n]=t.apply(this,arguments),s[n]):t.apply(this,arguments)}),e});var gmap_key="AIzaSyAvIqYIPuYPtHvdJoqndErZRrzUUTKZYQI";(function(e){"use strict";e(document).ready(function(){function t(t){"CTA"==t?(e("#cta_firstname").val(""),e("#cta_lastname").val(""),e("#cta_email").val(""),e("#cta_contact").val(""),e("#cta_postcode").val(""),e("#cta_quarter_bill").val(""),e("#book_appt_id").val("")):"PRD"==t?(e("#prd_firstname").val(""),e("#prd_lastname").val(""),e("#prd_email").val(""),e("#prd_contact").val(""),e("#prd_postcode").val(""),e("#prd_quarter_bill").val("")):"PRD_STEP"==t?(e("#prd_step_address").val(""),e("#prd_step_street_name").val(""),e("#prd_step_suburb").val(""),e("#prd_step_state").val(""),e("#prd_step_country").val(""),e("#prd_step_postcode").val(""),e("#prd_step_retailer").val(""),e("#prd_step_shifting_date").val(""),e("#prd_step_lead_id").val(""),e("#prd_step_button").html("GET MY QUOTE")):"CTA_STEP"==t?(e("#cta_step_address").val(""),e("#cta_step_street_name").val(""),e("#cta_step_suburb").val(""),e("#cta_step_state").val(""),e("#cta_step_country").val(""),e("#cta_step_postcode").val(""),e("#cta_step_retailer").val(""),e("#cta_step_shifting_date").val(""),e("#cta_step_lead_id").val(""),e("#cta_step_button").html("GET MY QUOTE")):"HERO_STEP"==t?(e("#hero_step_address").val(""),e("#hero_step_street_name").val(""),e("#hero_step_suburb").val(""),e("#hero_step_state").val(""),e("#hero_step_country").val(""),e("#hero_step_postcode").val(""),e("#hero_step_retailer").val(""),e("#hero_step_shifting_date").val(""),e("#hero_step_lead_id").val(""),e("#hero_step_button").html("GET MY QUOTE")):(e("#appt_button").html("Book Appointment"),e("#booking_time_range").val(""),e("#booking_date").val(""),e("#booking_time").val("")),e("#CTA3").addClass("d-none"),e("#CTA4").addClass("d-none"),e(".cnfm_btn").removeAttr("disabled")}var s=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;e.validator.addMethod("emailStr",function(e,t){return this.optional(t)||s.test(e)},"Invalid Email"),e.validator.addMethod("nameStr",function(e,t){return e=e.replace(/^\s+|\s+$/g,""),this.optional(t)||/^(?=.{1,40}$)[a-zA-Z]+(?:[-' ][a-zA-Z]+)*$/.test(e)},"Invalid Name"),e.validator.addMethod("addressStr",function(t,s){var i="#"+s.id.substring(0,s.id.indexOf("address"))+"state",a=e.trim(e(i).val()),n=!0;return""==a?n=!1:(n=!0,i="#"+s.id+"-error",e(i).html("")),n},"Invalid Address"),e.validator.addMethod("postCode",function(e,t){return this.optional(t)||/^(?:(?:[2-8]\d|9[0-7]|0?[28]|0?9(?=09))(?:\d{2}))$/.test(e)},"Invalid Post Code"),e.validator.addMethod("phoneNum1",function(e,t){return this.optional(t)||/^\(?(?:\+?61|0)(?:(?:2\)?[ -]?(?:3[ -]?[38]|[46-9][ -]?[0-9]|5[ -]?[0-35-9])|3\)?(?:4[ -]?[0-57-9]|[57-9][ -]?[0-9]|6[ -]?[1-67])|7\)?[ -]?(?:[2-4][ -]?[0-9]|5[ -]?[2-7]|7[ -]?6)|8\)?[ -]?(?:5[ -]?[1-4]|6[ -]?[0-8]|[7-9][ -]?[0-9]))(?:[ -]?[0-9]){6}|4\)?[ -]?(?:(?:[01][ -]?[0-9]|2[ -]?[0-57-9]|3[ -]?[1-9]|4[ -]?[7-9]|5[ -]?[018])[ -]?[0-9]|3[ -]?0[ -]?[0-5])(?:[ -]?[0-9]){5})$/.test(e)},"Invalid AU Phone Number"),e.validator.addMethod("phoneNum",function(e,t){return this.optional(t)||/^(?:\+?61|0)[2-478](?:[ -]?[0-9]){8}$/.test(e)},"Invalid AU Phone Number"),e(":input").attr("autocorrect","off").attr("autocapitalize","off").attr("autocomplete","off").attr("spellcheck","false");var i=[0,6];if(e("#booking_date").datepicker({language:"en",minDate:new Date,
onRenderCell:function(e,t){if("day"==t){var s=e.getDay(),a=i.indexOf(s)!=-1;return{disabled:a}}},onSelect:function(t,s){e("#booking_date").val(t);var i=e("#booking_date").datepicker().data("datepicker");i.hide()}}),e("#subscribe_notify").click(function(){e(this).addClass("d-none"),e("#subscribe_form").removeClass("d-none").fadeIn("slow")}),e("#subscribe_email").on("input",function(){s.test(e(this).val())?e("#subscribe_button").removeAttr("disabled"):e("#subscribe_button").attr("disabled","disabled")}),e("#subscribe_form").validate({ignore:"",rules:{subscribe_email:{required:!0}},messages:{subscribe_email:{email:"Please Enter Valid Email Address",required:"Please Enter Email Address"}},submitHandler:function(t){e(".response-text").empty().removeClass("d-none"),e("#subscribe_button").attr("disabled","disabled").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>'),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(t).serialize()+"&action=SubscribeForm",success:function(t){e("#subscribe_button").html("Thank you!").attr("disabled","disabled"),e("#subscribe_email").attr("disabled","disabled"),e(".response-text").removeClass("d-none").html(t).fadeIn(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"newsletterSubmissionSuccess",formId:"subscribe_form"})},error:function(e){console.log("Subscribe Error:"+JSON.stringify(e))}})}}),e("#cta1-btn").click(function(){e("#CTA1").removeClass("d-none").slideToggle("slow"),t("CTA"),e("#cta_button").html("Get My Custom Quote"),s=e("#CTA2").css("display"),"flex"==s?(e("#cta2-btn").addClass("active-cta-btn"),e("#cta_firstname").focus()):e("#cta2-btn").removeClass("active-cta-btn");var s=e("#CTA2").css("display");"flex"==s&&(e("#CTA2").removeClass("d-none").toggle(!1),e("#cta2-btn").removeClass("active-cta-btn"),e("#CTA2").addClass("d-none")),s=e("#CTA1").css("display"),"flex"==s?(e("#cta1-btn").addClass("active-cta-btn"),e("#cta_firstname").focus()):e("#cta1-btn").removeClass("active-cta-btn")}),e("#cta2-btn").click(function(){e("#CTA2").removeClass("d-none").slideToggle("slow"),t("Booking"),e("#cta_button").html("Confirm Details"),s=e("#CTA1").css("display"),"flex"==s?(e("#cta1-btn").addClass("active-cta-btn"),e("#cta_firstname").focus()):e("#cta1-btn").removeClass("active-cta-btn");var s=e("#CTA1").css("display");"flex"==s&&(e("#CTA1").removeClass("d-none").toggle(!1),e("#cta1-btn").removeClass("active-cta-btn"),e("#CTA1").addClass("d-none")),s=e("#CTA2").css("display"),"flex"==s?e("#cta2-btn").addClass("active-cta-btn"):e("#cta2-btn").removeClass("active-cta-btn")}),e("#booking_form").validate({ignore:"",messages:{booking_date:{required:"Please select appointment date."},booking_time:{required:"Please select preferred time of appointment."}},invalidHandler:function(t,s){var i=s.numberOfInvalids();if(i){var a=1==i?"Found an error. Please provide the correct information.":"Found "+i+" errors.  Please provide the correct information.";e("#booking_form_error span").html(a),e("#booking_form_error").removeClass("d-none")}else e("#booking_form_error").addClass("d-none")},onkeyup:!1,submitHandler:function(s){e("#cta1-btn").attr("disabled","disabled"),"morning"==e("#booking_time").val()?e("#booking_time_range").val("8am to 12pm"):"afternoon"==e("#booking_time").val()?e("#booking_time_range").val("12pm to 5pm"):e("#booking_time_range").val("5pm to 8.30pm"),e(".appt_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(s).serialize()+"&action=SaveAppointment",success:function(s){t("CTA"),e("#book_appt_id").val(s.return_msg.appt_id),setCookie("booking_date",s.return_msg.appt_id,1),setCookie("booking_date",s.return_msg.appt_date,1),setCookie("booking_time",s.return_msg.appt_time,1),e(".sel_date").html(s.appt_date),e(".sel_session").html(s.appt_time),e("#CTA1").removeClass("d-none").fadeIn(),e("#CTA2").addClass("d-none"),e(".bill-estimate").addClass("d-none"),e("#cta_quarter_bill").remove(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"booking_form",step:"Step1"})},error:function(e){console.log("Error:"+e)}})}}),e("#booking_form input, #booking_form select").blur(function(){var t=e("#booking_form .form-control.error").length;if(0==t)e("#booking_form_error").addClass("d-none");else{var s=1==t?"Found an error. Please provide the correct information.":"Found "+t+" errors.  Please provide the correct information.";e("#booking_form_error span").html(s)}}),e("#cta_form").validate({ignore:"",rules:{cta_firstname:{required:!0,nameStr:!0},cta_email:{required:!0,emailStr:!0},cta_contact:{required:!0,phoneNum:!0},cta_postcode:{required:!0,postCode:!0}},messages:{cta_firstname:{required:"Please enter your first name.",nameStr:"Please enter a valid name."},cta_email:{required:"Please enter a valid email address.",emailStr:"Please enter a valid email address."},cta_contact:{required:"Please enter your contact detail.",phoneNum:"Please enter a valid contact detail."},cta_postcode:{required:"Please enter your post code.",postCode:"Please enter a valid post code."}},invalidHandler:function(t,s){var i=s.numberOfInvalids();if(i){var a=1==i?"Found an error. Please provide the correct information.":"Found "+i+" errors.  Please provide the correct information.";e("#cta_form_error span").html(a),e("#cta_form_error").removeClass("d-none")}else e("#cta_form_error").addClass("d-none")},onkeyup:!1,submitHandler:function(s){var i=window.location.pathname,a=i.split("/").join("");e(".cnfm_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(s).serialize()+"&action=SaveUserDetails&prepend=cta&page_src="+a,success:function(s){t("CTA_STEP");var i=e("#book_appt_id").val();loadGMAP("cta_step_address"),""==e.trim(s.booking_id)&&""==e.trim(i)?(e("#CTA5").removeClass("d-none").fadeIn(),e("#cta_step_user_id").val(s.lead_id),e("#cta_step_lead_id").val(s.em_lead_id),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"cta_form",step:"Step1"})):(e("#CTA3").removeClass("d-none").fadeIn(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"booking_form",step:"Step2"})),e("#CTA1").addClass("d-none")},error:function(t){console.log("Error:"+JSON.stringify(t)),e("#cta_form_error span").html(t.responseText.replace(/"/g,"")),e("#cta_form_error").removeClass("d-none")}})}}),e("#cta_form input").blur(function(){var t=e("#cta_form .form-control.error").length;if(0==t)e("#cta_form_error").addClass("d-none");else{var s=1==t?"Found an error. Please provide the correct information.":"Found "+t+" errors.  Please provide the correct information.";e("#cta_form_error span").html(s)}}),e("#cta_step2").validate({ignore:"",messages:{cta_step_address:{required:"Please enter your address.",nameStr:"Please enter your address."},cta_step_retailer:{required:"Please enter your current energy provider.",nameStr:"Please enter your current energy provider."}},invalidHandler:function(t,s){var i=s.numberOfInvalids();if(i){var a=1==i?"Found an error. Please provide the correct information.":"Found "+i+" errors.  Please provide the correct information.";e("#cta_step_error span").html(a),e("#cta_step_error").removeClass("d-none")}else e("#cta_step_error").addClass("d-none")},onkeyup:!1,submitHandler:function(t){var s=window.location.pathname,i=s.split("/").join("");e(".cnfm_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(t).serialize()+"&action=SaveStep2&prepend=cta&page_src="+i,success:function(t){e("#CTA4").removeClass("d-none").fadeIn(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"cta_form",step:"Step2"}),e("#CTA5").addClass("d-none")},error:function(t){console.log("Error:"+JSON.stringify(t)),e("#cta_step_error span").html(t.responseText.replace(/"/g,"")),e("#cta_step_error").removeClass("d-none")}})}}),e("#cta_step2 input, #cta_step2 select").blur(function(){var t=e("#cta_step2 .form-control.error").length;if(0==t)e("#cta_step_error").addClass("d-none");else{var s=1==t?"Found an error. Please provide the correct information.":"Found "+t+" errors.  Please provide the correct information.";e("#cta_step_error span").html(s)}}),e("#hero_form").validate({ignore:"",rules:{hero_firstname:{required:!0,nameStr:!0},hero_lastname:{required:!0,nameStr:!0},hero_email:{required:!0,emailStr:!0},hero_contact:{required:!0,phoneNum:!0},hero_postcode:{required:!0,postCode:!0}},messages:{hero_firstname:{required:"Please enter your first name.",nameStr:"Please enter a valid name."},hero_lastname:{required:"Please enter your last name.",nameStr:"Please enter a valid name."},hero_email:{required:"Please enter a valid email address.",emailStr:"Please enter a valid email address."},hero_contact:{required:"Please enter your contact detail.",phoneNum:"Please enter a valid contact detail."},hero_postcode:{required:"Please enter your post code.",postCode:"Please enter a valid post code."}},invalidHandler:function(t,s){var i=s.numberOfInvalids();if(i){var a=1==i?"Found an error. Please provide the correct information.":"Found "+i+" errors.  Please provide the correct information.";e("#hero_form_error span").html(a),e("#hero_form_error").removeClass("d-none")}else e("#hero_form_error").addClass("d-none")},onkeyup:!1,submitHandler:function(s){e("#hero_form_error").addClass("d-none");var i=window.location.pathname,a=i.split("/").join("");e(".cnfm_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(s).serialize()+"&action=SaveUserDetails&book_appt_id=0&prepend=hero&page_src="+a,success:function(s){t("HERO_STEP"),loadGMAP("hero_step_address"),e("#hero_step2").removeClass("d-none").fadeIn(),e("#hero_step_user_id").val(s.lead_id),e("#hero_step_lead_id").val(s.em_lead_id),e("#hero_form").addClass("d-none"),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"hero_form",step:"Step1"})},error:function(t){console.log("Error:"+JSON.stringify(t)),e("#hero_form_error span").html(t.responseText.replace(/"/g,"")),e("#hero_form_error").removeClass("d-none")}})}}),e("#hero_form input").blur(function(){var t=e("#hero_form .form-control.error").length;if(0==t)e("#hero_form_error").addClass("d-none");else{var s=1==t?"Found an error. Please provide the correct information.":"Found "+t+" errors.  Please provide the correct information.";e("#hero_form_error span").html(s)}}),e("#hero_step2").validate({ignore:"",messages:{hero_step_address:{required:"Please enter your address.",nameStr:"Please enter your address."},hero_step_retailer:{required:"Please enter your current energy provider.",nameStr:"Please enter your current energy provider."}},invalidHandler:function(t,s){var i=s.numberOfInvalids();if(i){var a=1==i?"Found an error. Please provide the correct information.":"Found "+i+" errors.  Please provide the correct information.";e("#hero_step_error span").html(a),e("#hero_step_error").removeClass("d-none")}else e("#hero_step_error").addClass("d-none")},onkeyup:!1,submitHandler:function(t){var s=window.location.pathname,i=s.split("/").join("");e(".cnfm_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(t).serialize()+"&action=SaveStep2&prepend=hero&page_src="+i,success:function(t){e("#hero_response").removeClass("d-none").fadeIn(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"hero_form",step:"Step2"}),e("#hero_step2").addClass("d-none")},error:function(t){console.log("Error:"+JSON.stringify(t)),e("#hero_step_error span").html(t.responseText.replace(/"/g,"")),e("#hero_step_error").removeClass("d-none")}})}}),e("#hero_step2 input, #hero_step2 select").blur(function(){var t=e("#hero_step2 .form-control.error").length;if(0==t)e("#hero_step_error").addClass("d-none");else{var s=1==t?"Found an error. Please provide the correct information.":"Found "+t+" errors.  Please provide the correct information.";e("#hero_step_error span").html(s)}}),e("#contact_form").validate({ignore:"",rules:{cf_firstname:{required:!0,nameStr:!0},cf_lastname:{required:!0,nameStr:!0},cf_phone:{required:!0,phoneNum:!0},cf_email:{required:!0,emailStr:!0},cf_address:{required:!0,addressStr:!0},cf_message:{required:!0},cf_company:{required:function(t){var s=e("input[name='cf_customerservice']:checked").val();return"Interested Partner"==s}}},errorPlacement:function(t,s){e(s).closest("form").find("label[for='"+s.attr("id")+"']").append(t)},errorElement:"span",messages:{cf_firstname:{required:" (required)",nameStr:" (invalid input)"},cf_lastname:{required:" (required)",nameStr:" (invalid input)"},cf_email:{required:" (required)",emailStr:" (invalid input)"},cf_phone:{required:" (required)",phoneNum:" (invalid input)"},cf_address:{required:" (required)",addressStr:" (invalid input)"},cf_message:{required:" (required)"},cf_company:{required:" (required)"}},submitHandler:function(t){var s=window.location.pathname,i=s.split("/").join("");e(".cnfm_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(t).serialize()+"&action=SaveContactDetails&book_appt_id=0&prepend=cf&page_src="+i,success:function(t){e("#cf_response").removeClass("d-none").fadeIn(),e("#contact_form").addClass("d-none"),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"contact_form"})},error:function(e){alert(e.responseText.replace(/"/g,"")),console.log("Error:"+e.responseText.replace(/"/g,""))}})}}),e("#contact_form input[type=radio]").on("change",function(){var t=e("input[name='cf_customerservice']:checked").val();"Interested Partner"==t?(e(".switch1").removeClass("small-12").addClass("small-6"),e(".switch2").removeClass("d-none")):(e(".switch1").removeClass("small-6").addClass("small-12"),e(".switch2").addClass("d-none"))}),e.fn.scrollView=function(){return this.each(function(){e("html, body").animate({scrollTop:e(this).offset().top-55},1e3)})},e("#pc-btn-1").click(function(t){return t.preventDefault(),e("#PRD1").hasClass("d-none")&&e("#PRD1").removeClass("d-none").removeAttr("style"),e("#PRD1").scrollView(),!1}),e("#pc-btn-2").click(function(t){return t.preventDefault(),e("#PRD1").hasClass("d-none")&&e("#PRD1").removeClass("d-none").removeAttr("style"),e("#PRD1").scrollView(),!1}),e("#pc-btn-3").click(function(t){return t.preventDefault(),e("#PRD1").hasClass("d-none")&&e("#PRD1").removeClass("d-none").removeAttr("style"),e("#PRD1").scrollView(),!1}),e("#prd_form").validate({ignore:"",rules:{prd_firstname:{required:!0,nameStr:!0},prd_lastname:{required:!0,nameStr:!0},prd_email:{required:!0,emailStr:!0},prd_contact:{required:!0,phoneNum:!0},prd_postcode:{required:!0,postCode:!0}},messages:{prd_firstname:{required:"Please enter your first name.",nameStr:"Please enter a valid name."},prd_lastname:{required:"Please enter your last name.",nameStr:"Please enter a valid name."},prd_email:{required:"Please enter a valid email address.",emailStr:"Please enter a valid email address."},prd_contact:{required:"Please enter your contact detail.",phoneNum:"Please enter a valid contact detail."},prd_postcode:{required:"Please enter your post code.",postCode:"Please enter a valid post code."}},invalidHandler:function(t,s){var i=s.numberOfInvalids();if(i){var a=1==i?"Found an error. Please provide the correct information.":"Found "+i+" errors.  Please provide the correct information.";e("#prd_form_error span").html(a),e("#prd_form_error").removeClass("d-none")}else e("#prd_form_error").addClass("d-none")},onkeyup:!1,submitHandler:function(s){var i=window.location.pathname,a=i.split("/").join("");e(".cnfm_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(s).serialize()+"&action=SaveUserDetails&prepend=prd&page_src="+a,success:function(s){t("PRD_STEP"),loadGMAP("prd_step_address"),e("#PRD2").removeClass("d-none").fadeIn(),e("#prd_step_user_id").val(s.lead_id),e("#prd_step_lead_id").val(s.em_lead_id),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"prd_form",step:"Step1"}),e("#PRD1").addClass("d-none")},error:function(e){console.log("Error:"+JSON.stringify(e))}})}}),e("#prd_form input").blur(function(){var t=e("#prd_form .form-control.error").length;if(0==t)e("#prd_form_error").addClass("d-none");else{var s=1==t?"Found an error. Please provide the correct information.":"Found "+t+" errors.  Please provide the correct information.";e("#prd_form_error span").html(s)}}),e("#prd_step2").validate({ignore:"",messages:{prd_step_address:{required:"Please enter your address.",nameStr:"Please enter your address."},prd_step_retailer:{required:"Please enter your current energy provider.",nameStr:"Please enter your current energy provider."}},invalidHandler:function(t,s){var i=s.numberOfInvalids();if(i){var a=1==i?"Found an error. Please provide the correct information.":"Found "+i+" errors.  Please provide the correct information.";e("#prd_step_error span").html(a),e("#prd_step_error").removeClass("d-none")}else e("#prd_step_error").addClass("d-none")},onkeyup:!1,submitHandler:function(t){var s=window.location.pathname,i=s.split("/").join("");e(".cnfm_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(t).serialize()+"&action=SaveStep2&prepend=prd&page_src="+i,success:function(t){e("#PRD3").removeClass("d-none").fadeIn(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"prd_form",step:"Step2"}),e("#PRD2").addClass("d-none")},error:function(t){console.log("Error:"+JSON.stringify(t)),e("#prd_step_error span").html(t.responseText.replace(/"/g,"")),e("#prd_step_error").removeClass("d-none")}})}}),e("#prd_step2 input, #prd_step2 select").blur(function(){var t=e("#prd_step2 .form-control.error").length;if(0==t)e("#prd_step_error").addClass("d-none");else{var s=1==t?"Found an error. Please provide the correct information.":"Found "+t+" errors.  Please provide the correct information.";e("#prd_step_error span").html(s)}}),null!==getCookie("smSectionStep")){var a=getCookie("smSectionStep");"hero"==a?(t("HERO_STEP"),loadGMAP("hero_step_address"),e("#hero_step2").removeClass("d-none").fadeIn(),e("#hero_step_user_id").val(getCookie("smLeadID")),e("#hero_step_lead_id").val(getCookie("emLeadID")),e("#hero_form").addClass("d-none")):"cta"==a?(t("CTA_STEP"),loadGMAP("cta_step_address"),e("#CTA5").removeClass("d-none").fadeIn(),e("#cta_step_user_id").val(getCookie("smLeadID")),e("#cta_step_lead_id").val(getCookie("emLeadID")),e("#CTA1").addClass("d-none")):"prd"==a&&(t("PRD_STEP"),loadGMAP("prd_step_address"),e("#PRD2").removeClass("d-none").fadeIn(),e("#prd_step_lead_id").val(getCookie("emLeadID")),e("#prd_step_user_id").val(getCookie("smLeadID")),e("#PRD1").addClass("d-none"))}e(".wp-video-shortcode").each(function(){e(this).attr("href")});var n=null;e("#lp2-btn").click(function(){e("#signature-section").fadeToggle("slow","linear",function(){if(null==n){var t=e("#signature").width()+"px";n=e("#signature").jSignature({lineWidth:1,height:"200px",width:t}),e("#signature-section").scrollView()}else e("#signature").empty(),e(window).unbind(".jSignature"),n=null})}),e("#clr-btn").click(function(){e("#signature").jSignature("clear"),e("#sbmt-btn").prop("disabled",!0)}),e("#so_fullname").bind("change",function(t){var s=e("#signature").jSignature("getData","native").length>0,i=e("#so_fullname").val().trim();s&&""!=i&&e("#sbmt-btn").prop("disabled",!1)}),e("#signature").bind("change",function(t){var s=e("#signature").jSignature("getData","native").length>0,i=e("#so_fullname").val().trim();s&&""!=i&&e("#sbmt-btn").prop("disabled",!1)}),e("#signoff_form").validate({submitHandler:function(t){e("#clr-btn").prop("disabled",!0),e("#sbmt-btn-txt").addClass("d-none"),e("#sbmt-btn-icon").removeClass("d-none"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(t).serialize()+"&sign="+e("#signature").jSignature("getData","base30")+"&action=CheckUserSignOff&subs=add&order_form_id="+e("#leadIDCheck").val(),success:function(t){e("#congratulations").removeClass("d-none").fadeIn(),e("#sign-off-part").addClass("d-none").fadeOut(),e("#signature-section").addClass("d-none").fadeOut()},error:function(t){console.log("addUserSignOff Error:"+JSON.stringify(t)),e("#unauthorized").removeClass("d-none"),e("#api-err-msg").html(t.responseText.replace(/"/g,""))}})}})})})(jQuery);