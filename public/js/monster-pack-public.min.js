function initSolarMap(){var e={center:new google.maps.LatLng(-33.8688,151.2195),zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP};if(jQuery("#map-canvas").length>0){var r=(new google.maps.Map(document.getElementById("map-canvas"),e),getCookie("InputFld")),a="#";a=r.indexOf("_step")>0?a+r.substring(0,r.indexOf("_step"))+"_step_":a+r.substring(0,r.indexOf("_address"))+"_";var t=document.getElementById(r),o=new google.maps.places.Autocomplete(t,{types:["geocode"],componentRestrictions:{country:"au"}});google.maps.event.addListener(o,"place_changed",function(e,t){jQuery("#"+r,"");var n=o.getPlace();return fillAddress(n,a),!1})}}function fillAddress(e,r){jQuery(r+"address-error").html("");var a=e.name;jQuery(r+"street_name").val(a).data("address",a);for(i in e.address_components){var t=e.address_components[i];switch(t.types[0]){case"locality":jQuery(r+"suburb").val(t.long_name);break;case"administrative_area_level_1":jQuery(r+"state").val(t.short_name);break;case"postal_code":jQuery(r+"postcode").each(function(){jQuery(this).val(t.short_name)});break;case"country":jQuery(r+"country").val(t.long_name)}}return!0}function setCookie(e,r,a){var t=new Date;t.setTime(t.getTime()+24*a*60*60*1e3);var o="expires="+t.toUTCString();document.cookie=e+"="+r+";"+o+";path=/"}function getCookie(e){for(var r=e+"=",a=document.cookie.split(";"),t=0;t<a.length;t++){for(var o=a[t];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(r))return o.substring(r.length,o.length)}return""}function loadGMAP(e){setCookie("InputFld",e,1),"function"==typeof initSolarMap&&jQuery("head").prepend('<script src="https://maps.googleapis.com/maps/api/js?key='+gmap_key+'&libraries=places&callback=initSolarMap"></script>')}var gmap_key="AIzaSyAvIqYIPuYPtHvdJoqndErZRrzUUTKZYQI";(function(e){"use strict";e(document).ready(function(){function r(r){"CTA"==r?(e("#cta_firstname").val(""),e("#cta_lastname").val(""),e("#cta_email").val(""),e("#cta_contact").val(""),e("#cta_postcode").val(""),e("#cta_quarter_bill").val(""),e("#book_appt_id").val("")):"PRD"==r?(e("#prd_firstname").val(""),e("#prd_lastname").val(""),e("#prd_email").val(""),e("#prd_contact").val(""),e("#prd_postcode").val(""),e("#prd_quarter_bill").val("")):"PRD_STEP"==r?(e("#prd_step_address").val(""),e("#prd_step_street_name").val(""),e("#prd_step_suburb").val(""),e("#prd_step_state").val(""),e("#prd_step_country").val(""),e("#prd_step_postcode").val(""),e("#prd_step_retailer").val(""),e("#prd_step_shifting_date").val(""),e("#prd_step_lead_id").val(""),e("#prd_step_button").html("GET MY QUOTE")):"CTA_STEP"==r?(e("#cta_step_address").val(""),e("#cta_step_street_name").val(""),e("#cta_step_suburb").val(""),e("#cta_step_state").val(""),e("#cta_step_country").val(""),e("#cta_step_postcode").val(""),e("#cta_step_retailer").val(""),e("#cta_step_shifting_date").val(""),e("#cta_step_lead_id").val(""),e("#cta_step_button").html("GET MY QUOTE")):"HERO_STEP"==r?(e("#hero_step_address").val(""),e("#hero_step_street_name").val(""),e("#hero_step_suburb").val(""),e("#hero_step_state").val(""),e("#hero_step_country").val(""),e("#hero_step_postcode").val(""),e("#hero_step_retailer").val(""),e("#hero_step_shifting_date").val(""),e("#hero_step_lead_id").val(""),e("#hero_step_button").html("GET MY QUOTE")):(e("#appt_button").html("Book Appointment"),e("#booking_time_range").val(""),e("#booking_date").val(""),e("#booking_time").val("")),e("#CTA3").addClass("d-none"),e("#CTA4").addClass("d-none"),e(".cnfm_btn").removeAttr("disabled")}var a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;e.validator.addMethod("emailStr",function(e,r){return this.optional(r)||a.test(e)},"Invalid Email"),e.validator.addMethod("nameStr",function(e,r){return e=e.replace(/^\s+|\s+$/g,""),this.optional(r)||/^(?=.{1,40}$)[a-zA-Z]+(?:[-' ][a-zA-Z]+)*$/.test(e)},"Invalid Name"),e.validator.addMethod("addressStr",function(r,a){var t="#"+a.id.substring(0,a.id.indexOf("address"))+"state",o=e.trim(e(t).val()),n=!0;return""==o?n=!1:(n=!0,t="#"+a.id+"-error",e(t).html("")),n},"Invalid Address"),e.validator.addMethod("postCode",function(e,r){return this.optional(r)||/^(?:(?:[2-8]\d|9[0-7]|0?[28]|0?9(?=09))(?:\d{2}))$/.test(e)},"Invalid Post Code"),e.validator.addMethod("phoneNum1",function(e,r){return this.optional(r)||/^\(?(?:\+?61|0)(?:(?:2\)?[ -]?(?:3[ -]?[38]|[46-9][ -]?[0-9]|5[ -]?[0-35-9])|3\)?(?:4[ -]?[0-57-9]|[57-9][ -]?[0-9]|6[ -]?[1-67])|7\)?[ -]?(?:[2-4][ -]?[0-9]|5[ -]?[2-7]|7[ -]?6)|8\)?[ -]?(?:5[ -]?[1-4]|6[ -]?[0-8]|[7-9][ -]?[0-9]))(?:[ -]?[0-9]){6}|4\)?[ -]?(?:(?:[01][ -]?[0-9]|2[ -]?[0-57-9]|3[ -]?[1-9]|4[ -]?[7-9]|5[ -]?[018])[ -]?[0-9]|3[ -]?0[ -]?[0-5])(?:[ -]?[0-9]){5})$/.test(e)},"Invalid AU Phone Number"),e.validator.addMethod("phoneNum",function(e,r){return this.optional(r)||/^(?:\+?61|0)[2-478](?:[ -]?[0-9]){8}$/.test(e)},"Invalid AU Phone Number"),e(":input").attr("autocorrect","off").attr("autocapitalize","off").attr("autocomplete","off").attr("spellcheck","false");var t=[0,6];if(e("#booking_date").datepicker({language:"en",minDate:new Date,onRenderCell:function(e,r){if("day"==r){var a=e.getDay(),o=t.indexOf(a)!=-1;return{disabled:o}}},onSelect:function(r,a){e("#booking_date").val(r);var t=e("#booking_date").datepicker().data("datepicker");t.hide()}}),e("#subscribe_notify").click(function(){e(this).addClass("d-none"),e("#subscribe_form").removeClass("d-none").fadeIn("slow")}),e("#subscribe_email").on("input",function(){a.test(e(this).val())?e("#subscribe_button").removeAttr("disabled"):e("#subscribe_button").attr("disabled","disabled")}),e("#subscribe_form").validate({ignore:"",rules:{subscribe_email:{required:!0}},messages:{subscribe_email:{email:"Please Enter Valid Email Address",required:"Please Enter Email Address"}},submitHandler:function(r){e(".response-text").empty().removeClass("d-none"),e("#subscribe_button").attr("disabled","disabled").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>'),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(r).serialize()+"&action=SubscribeForm",success:function(r){e("#subscribe_button").html("Thank you!").attr("disabled","disabled"),e("#subscribe_email").attr("disabled","disabled"),e(".response-text").removeClass("d-none").html(r).fadeIn(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"newsletterSubmissionSuccess",formId:"subscribe_form"})},error:function(e){console.log("Subscribe Error:"+JSON.stringify(e))}})}}),e("#cta1-btn").click(function(){e("#CTA1").removeClass("d-none").slideToggle("slow"),r("CTA"),e("#cta_button").html("Get My Custom Quote"),a=e("#CTA2").css("display"),"flex"==a?(e("#cta2-btn").addClass("active-cta-btn"),e("#cta_firstname").focus()):e("#cta2-btn").removeClass("active-cta-btn");var a=e("#CTA2").css("display");"flex"==a&&(e("#CTA2").removeClass("d-none").toggle(!1),e("#cta2-btn").removeClass("active-cta-btn"),e("#CTA2").addClass("d-none")),a=e("#CTA1").css("display"),"flex"==a?(e("#cta1-btn").addClass("active-cta-btn"),e("#cta_firstname").focus()):e("#cta1-btn").removeClass("active-cta-btn")}),e("#cta2-btn").click(function(){e("#CTA2").removeClass("d-none").slideToggle("slow"),r("Booking"),e("#cta_button").html("Confirm Details"),a=e("#CTA1").css("display"),"flex"==a?(e("#cta1-btn").addClass("active-cta-btn"),e("#cta_firstname").focus()):e("#cta1-btn").removeClass("active-cta-btn");var a=e("#CTA1").css("display");"flex"==a&&(e("#CTA1").removeClass("d-none").toggle(!1),e("#cta1-btn").removeClass("active-cta-btn"),e("#CTA1").addClass("d-none")),a=e("#CTA2").css("display"),"flex"==a?e("#cta2-btn").addClass("active-cta-btn"):e("#cta2-btn").removeClass("active-cta-btn")}),e("#booking_form").validate({ignore:"",messages:{booking_date:{required:"Please select appointment date."},booking_time:{required:"Please select preferred time of appointment."}},invalidHandler:function(r,a){var t=a.numberOfInvalids();if(t){var o=1==t?"Found an error. Please provide the correct information.":"Found "+t+" errors.  Please provide the correct information.";e("#booking_form_error span").html(o),e("#booking_form_error").removeClass("d-none")}else e("#booking_form_error").addClass("d-none")},onkeyup:!1,submitHandler:function(a){e("#cta1-btn").attr("disabled","disabled"),"morning"==e("#booking_time").val()?e("#booking_time_range").val("8am to 12pm"):"afternoon"==e("#booking_time").val()?e("#booking_time_range").val("12pm to 5pm"):e("#booking_time_range").val("5pm to 8.30pm"),e(".appt_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(a).serialize()+"&action=SaveAppointment",success:function(a){r("CTA"),e("#book_appt_id").val(a.return_msg.appt_id),setCookie("booking_date",a.return_msg.appt_id,1),setCookie("booking_date",a.return_msg.appt_date,1),setCookie("booking_time",a.return_msg.appt_time,1),e(".sel_date").html(a.appt_date),e(".sel_session").html(a.appt_time),e("#CTA1").removeClass("d-none").fadeIn(),e("#CTA2").addClass("d-none"),e(".bill-estimate").addClass("d-none"),e("#cta_quarter_bill").remove(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"booking_form",step:"Step1"})},error:function(e){console.log("Error:"+e)}})}}),e("#booking_form input, #booking_form select").blur(function(){var r=e("#booking_form .form-control.error").length;if(0==r)e("#booking_form_error").addClass("d-none");else{var a=1==r?"Found an error. Please provide the correct information.":"Found "+r+" errors.  Please provide the correct information.";e("#booking_form_error span").html(a)}}),e("#cta_form").validate({ignore:"",rules:{cta_firstname:{required:!0,nameStr:!0},cta_email:{required:!0,emailStr:!0},cta_contact:{required:!0,phoneNum:!0},cta_postcode:{required:!0,postCode:!0}},messages:{cta_firstname:{required:"Please enter your first name.",nameStr:"Please enter a valid name."},cta_email:{required:"Please enter a valid email address.",emailStr:"Please enter a valid email address."},cta_contact:{required:"Please enter your contact detail.",phoneNum:"Please enter a valid contact detail."},cta_postcode:{required:"Please enter your post code.",postCode:"Please enter a valid post code."}},invalidHandler:function(r,a){var t=a.numberOfInvalids();if(t){var o=1==t?"Found an error. Please provide the correct information.":"Found "+t+" errors.  Please provide the correct information.";e("#cta_form_error span").html(o),e("#cta_form_error").removeClass("d-none")}else e("#cta_form_error").addClass("d-none")},onkeyup:!1,submitHandler:function(a){var t=window.location.pathname,o=t.split("/").join("");e(".cnfm_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(a).serialize()+"&action=SaveUserDetails&prepend=cta&page_src="+o,success:function(a){r("CTA_STEP");var t=e("#book_appt_id").val();loadGMAP("cta_step_address"),""==e.trim(a.booking_id)&&""==e.trim(t)?(e("#CTA5").removeClass("d-none").fadeIn(),e("#cta_step_user_id").val(a.lead_id),e("#cta_step_lead_id").val(a.em_lead_id),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"cta_form",step:"Step1"})):(e("#CTA3").removeClass("d-none").fadeIn(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"booking_form",step:"Step2"})),e("#CTA1").addClass("d-none")},error:function(r){console.log("Error:"+JSON.stringify(r)),e("#cta_form_error span").html(r.responseText.replace(/"/g,"")),e("#cta_form_error").removeClass("d-none")}})}}),e("#cta_form input").blur(function(){var r=e("#cta_form .form-control.error").length;if(0==r)e("#cta_form_error").addClass("d-none");else{var a=1==r?"Found an error. Please provide the correct information.":"Found "+r+" errors.  Please provide the correct information.";e("#cta_form_error span").html(a)}}),e("#cta_step2").validate({ignore:"",messages:{cta_step_address:{required:"Please enter your address.",nameStr:"Please enter your address."},cta_step_retailer:{required:"Please enter your current energy provider.",nameStr:"Please enter your current energy provider."}},invalidHandler:function(r,a){var t=a.numberOfInvalids();if(t){var o=1==t?"Found an error. Please provide the correct information.":"Found "+t+" errors.  Please provide the correct information.";e("#cta_step_error span").html(o),e("#cta_step_error").removeClass("d-none")}else e("#cta_step_error").addClass("d-none")},onkeyup:!1,submitHandler:function(r){var a=window.location.pathname,t=a.split("/").join("");e(".cnfm_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(r).serialize()+"&action=SaveStep2&prepend=cta&page_src="+t,success:function(r){e("#CTA4").removeClass("d-none").fadeIn(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"cta_form",step:"Step2"}),e("#CTA5").addClass("d-none")},error:function(r){console.log("Error:"+JSON.stringify(r)),e("#cta_step_error span").html(r.responseText.replace(/"/g,"")),e("#cta_step_error").removeClass("d-none")}})}}),e("#cta_step2 input, #cta_step2 select").blur(function(){var r=e("#cta_step2 .form-control.error").length;if(0==r)e("#cta_step_error").addClass("d-none");else{var a=1==r?"Found an error. Please provide the correct information.":"Found "+r+" errors.  Please provide the correct information.";e("#cta_step_error span").html(a)}}),e("#hero_form").validate({ignore:"",rules:{hero_firstname:{required:!0,nameStr:!0},hero_lastname:{required:!0,nameStr:!0},hero_email:{required:!0,emailStr:!0},hero_contact:{required:!0,phoneNum:!0},hero_postcode:{required:!0,postCode:!0}},messages:{hero_firstname:{required:"Please enter your first name.",nameStr:"Please enter a valid name."},hero_lastname:{required:"Please enter your last name.",nameStr:"Please enter a valid name."},hero_email:{required:"Please enter a valid email address.",emailStr:"Please enter a valid email address."},hero_contact:{required:"Please enter your contact detail.",phoneNum:"Please enter a valid contact detail."},hero_postcode:{required:"Please enter your post code.",postCode:"Please enter a valid post code."}},invalidHandler:function(r,a){var t=a.numberOfInvalids();if(t){var o=1==t?"Found an error. Please provide the correct information.":"Found "+t+" errors.  Please provide the correct information.";e("#hero_form_error span").html(o),e("#hero_form_error").removeClass("d-none")}else e("#hero_form_error").addClass("d-none")},onkeyup:!1,submitHandler:function(a){e("#hero_form_error").addClass("d-none");var t=window.location.pathname,o=t.split("/").join("");e(".cnfm_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(a).serialize()+"&action=SaveUserDetails&book_appt_id=0&prepend=hero&page_src="+o,success:function(a){r("HERO_STEP"),loadGMAP("hero_step_address"),e("#hero_step2").removeClass("d-none").fadeIn(),e("#hero_step_user_id").val(a.lead_id),e("#hero_step_lead_id").val(a.em_lead_id),e("#hero_form").addClass("d-none"),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"hero_form",step:"Step1"})},error:function(r){console.log("Error:"+JSON.stringify(r)),e("#hero_form_error span").html(r.responseText.replace(/"/g,"")),e("#hero_form_error").removeClass("d-none")}})}}),e("#hero_form input").blur(function(){var r=e("#hero_form .form-control.error").length;if(0==r)e("#hero_form_error").addClass("d-none");else{var a=1==r?"Found an error. Please provide the correct information.":"Found "+r+" errors.  Please provide the correct information.";e("#hero_form_error span").html(a)}}),e("#hero_step2").validate({ignore:"",messages:{hero_step_address:{required:"Please enter your address.",nameStr:"Please enter your address."},hero_step_retailer:{required:"Please enter your current energy provider.",nameStr:"Please enter your current energy provider."}},invalidHandler:function(r,a){var t=a.numberOfInvalids();if(t){var o=1==t?"Found an error. Please provide the correct information.":"Found "+t+" errors.  Please provide the correct information.";e("#hero_step_error span").html(o),e("#hero_step_error").removeClass("d-none")}else e("#hero_step_error").addClass("d-none")},onkeyup:!1,submitHandler:function(r){var a=window.location.pathname,t=a.split("/").join("");e(".cnfm_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(r).serialize()+"&action=SaveStep2&prepend=hero&page_src="+t,success:function(r){e("#hero_response").removeClass("d-none").fadeIn(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"hero_form",step:"Step2"}),e("#hero_step2").addClass("d-none")},error:function(r){console.log("Error:"+JSON.stringify(r)),e("#hero_step_error span").html(r.responseText.replace(/"/g,"")),e("#hero_step_error").removeClass("d-none")}})}}),e("#hero_step2 input, #hero_step2 select").blur(function(){var r=e("#hero_step2 .form-control.error").length;if(0==r)e("#hero_step_error").addClass("d-none");else{var a=1==r?"Found an error. Please provide the correct information.":"Found "+r+" errors.  Please provide the correct information.";e("#hero_step_error span").html(a)}}),e("#contact_form").validate({ignore:"",rules:{cf_firstname:{required:!0,nameStr:!0},cf_lastname:{required:!0,nameStr:!0},cf_phone:{required:!0,phoneNum:!0},cf_email:{required:!0,emailStr:!0},cf_address:{required:!0,addressStr:!0},cf_message:{required:!0},cf_company:{required:function(r){var a=e("input[name='cf_customerservice']:checked").val();return"Interested Partner"==a}}},errorPlacement:function(r,a){e(a).closest("form").find("label[for='"+a.attr("id")+"']").append(r)},errorElement:"span",messages:{cf_firstname:{required:" (required)",nameStr:" (invalid input)"},cf_lastname:{required:" (required)",nameStr:" (invalid input)"},cf_email:{required:" (required)",emailStr:" (invalid input)"},cf_phone:{required:" (required)",phoneNum:" (invalid input)"},cf_address:{required:" (required)",addressStr:" (invalid input)"},cf_message:{required:" (required)"},cf_company:{required:" (required)"}},submitHandler:function(r){var a=window.location.pathname,t=a.split("/").join("");e(".cnfm_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(r).serialize()+"&action=SaveContactDetails&book_appt_id=0&prepend=cf&page_src="+t,success:function(r){e("#cf_response").removeClass("d-none").fadeIn(),e("#contact_form").addClass("d-none"),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"contact_form"})},error:function(e){alert(e.responseText.replace(/"/g,"")),console.log("Error:"+e.responseText.replace(/"/g,""))}})}}),e("#contact_form input[type=radio]").on("change",function(){var r=e("input[name='cf_customerservice']:checked").val();"Interested Partner"==r?(e(".switch1").removeClass("small-12").addClass("small-6"),e(".switch2").removeClass("d-none")):(e(".switch1").removeClass("small-6").addClass("small-12"),e(".switch2").addClass("d-none"))}),e.fn.scrollView=function(){return this.each(function(){e("html, body").animate({scrollTop:e(this).offset().top-55},1e3)})},e("#pc-btn-1").click(function(r){return r.preventDefault(),e("#PRD1").hasClass("d-none")&&e("#PRD1").removeClass("d-none").removeAttr("style"),e("#PRD1").scrollView(),!1}),e("#pc-btn-2").click(function(r){return r.preventDefault(),e("#PRD1").hasClass("d-none")&&e("#PRD1").removeClass("d-none").removeAttr("style"),e("#PRD1").scrollView(),!1}),e("#pc-btn-3").click(function(r){return r.preventDefault(),e("#PRD1").hasClass("d-none")&&e("#PRD1").removeClass("d-none").removeAttr("style"),e("#PRD1").scrollView(),!1}),e("#prd_form").validate({ignore:"",rules:{prd_firstname:{required:!0,nameStr:!0},prd_lastname:{required:!0,nameStr:!0},prd_email:{required:!0,emailStr:!0},prd_contact:{required:!0,phoneNum:!0},prd_postcode:{required:!0,postCode:!0}},messages:{prd_firstname:{required:"Please enter your first name.",nameStr:"Please enter a valid name."},prd_lastname:{required:"Please enter your last name.",nameStr:"Please enter a valid name."},prd_email:{required:"Please enter a valid email address.",emailStr:"Please enter a valid email address."},prd_contact:{required:"Please enter your contact detail.",phoneNum:"Please enter a valid contact detail."},prd_postcode:{required:"Please enter your post code.",postCode:"Please enter a valid post code."}},invalidHandler:function(r,a){var t=a.numberOfInvalids();if(t){var o=1==t?"Found an error. Please provide the correct information.":"Found "+t+" errors.  Please provide the correct information.";e("#prd_form_error span").html(o),e("#prd_form_error").removeClass("d-none")}else e("#prd_form_error").addClass("d-none")},onkeyup:!1,submitHandler:function(a){var t=window.location.pathname,o=t.split("/").join("");e(".cnfm_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(a).serialize()+"&action=SaveUserDetails&prepend=prd&page_src="+o,success:function(a){r("PRD_STEP"),loadGMAP("prd_step_address"),e("#PRD2").removeClass("d-none").fadeIn(),e("#prd_step_user_id").val(a.lead_id),e("#prd_step_lead_id").val(a.em_lead_id),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"prd_form",step:"Step1"}),e("#PRD1").addClass("d-none")},error:function(e){console.log("Error:"+JSON.stringify(e))}})}}),e("#prd_form input").blur(function(){var r=e("#prd_form .form-control.error").length;if(0==r)e("#prd_form_error").addClass("d-none");else{var a=1==r?"Found an error. Please provide the correct information.":"Found "+r+" errors.  Please provide the correct information.";e("#prd_form_error span").html(a)}}),e("#prd_step2").validate({ignore:"",messages:{prd_step_address:{required:"Please enter your address.",nameStr:"Please enter your address."},prd_step_retailer:{required:"Please enter your current energy provider.",nameStr:"Please enter your current energy provider."}},invalidHandler:function(r,a){var t=a.numberOfInvalids();if(t){var o=1==t?"Found an error. Please provide the correct information.":"Found "+t+" errors.  Please provide the correct information.";e("#prd_step_error span").html(o),e("#prd_step_error").removeClass("d-none")}else e("#prd_step_error").addClass("d-none")},onkeyup:!1,submitHandler:function(r){var a=window.location.pathname,t=a.split("/").join("");e(".cnfm_btn").html('<i class="icon-flickr icon-is-spinning icon-fw"></i>').attr("disabled","disabled"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(r).serialize()+"&action=SaveStep2&prepend=prd&page_src="+t,success:function(r){e("#PRD3").removeClass("d-none").fadeIn(),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"formSubmissionSuccess",formId:"prd_form",step:"Step2"}),e("#PRD2").addClass("d-none")},error:function(r){console.log("Error:"+JSON.stringify(r)),e("#prd_step_error span").html(r.responseText.replace(/"/g,"")),e("#prd_step_error").removeClass("d-none")}})}}),e("#prd_step2 input, #prd_step2 select").blur(function(){var r=e("#prd_step2 .form-control.error").length;if(0==r)e("#prd_step_error").addClass("d-none");else{var a=1==r?"Found an error. Please provide the correct information.":"Found "+r+" errors.  Please provide the correct information.";e("#prd_step_error span").html(a)}}),null!==getCookie("smSectionStep")){var o=getCookie("smSectionStep");"hero"==o?(r("HERO_STEP"),loadGMAP("hero_step_address"),e("#hero_step2").removeClass("d-none").fadeIn(),e("#hero_step_user_id").val(getCookie("smLeadID")),e("#hero_step_lead_id").val(getCookie("emLeadID")),e("#hero_form").addClass("d-none")):"cta"==o?(r("CTA_STEP"),loadGMAP("cta_step_address"),e("#CTA5").removeClass("d-none").fadeIn(),e("#cta_step_user_id").val(getCookie("smLeadID")),e("#cta_step_lead_id").val(getCookie("emLeadID")),e("#CTA1").addClass("d-none")):"prd"==o&&(r("PRD_STEP"),loadGMAP("prd_step_address"),e("#PRD2").removeClass("d-none").fadeIn(),e("#prd_step_lead_id").val(getCookie("emLeadID")),e("#prd_step_user_id").val(getCookie("smLeadID")),e("#PRD1").addClass("d-none"))}e(".wp-video-shortcode").each(function(){e(this).attr("href")});var n=null;e("#lp2-btn").click(function(){e("#signature-section").fadeToggle("slow","linear",function(){if(null==n){var r=e("#signature").width()+"px";n=e("#signature").jSignature({lineWidth:1,height:"200px",width:r}),e("#signature-section").scrollView()}else e("#signature").empty(),e(window).unbind(".jSignature"),n=null})}),e("#clr-btn").click(function(){e("#signature").jSignature("clear"),e("#sbmt-btn").prop("disabled",!0)}),e("#so_fullname").bind("change",function(r){var a=e("#signature").jSignature("getData","native").length>0,t=e("#so_fullname").val().trim();a&&""!=t&&e("#sbmt-btn").prop("disabled",!1)}),e("#signature").bind("change",function(r){var a=e("#signature").jSignature("getData","native").length>0,t=e("#so_fullname").val().trim();a&&""!=t&&e("#sbmt-btn").prop("disabled",!1)}),e("#signoff_form").validate({submitHandler:function(r){e("#clr-btn").prop("disabled",!0),e("#sbmt-btn-txt").addClass("d-none"),e("#sbmt-btn-icon").removeClass("d-none"),e.ajax({url:e.trim(monster_pack_ajax_script.ajaxurl),type:"POST",data:e(r).serialize()+"&sign="+e("#signature").jSignature("getData","base30")+"&action=CheckUserSignOff&subs=add&order_form_id="+e("#leadIDCheck").val(),success:function(r){e("#congratulations").removeClass("d-none").fadeIn(),e("#sign-off-part").addClass("d-none").fadeOut(),e("#signature-section").addClass("d-none").fadeOut()},error:function(r){console.log("addUserSignOff Error:"+JSON.stringify(r)),e("#unauthorized").removeClass("d-none"),e("#api-err-msg").html(r.responseText.replace(/"/g,""))}})}})})})(jQuery);